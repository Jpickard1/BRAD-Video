[
    {
        "start": 0.5,
        "text": "all right welcome everyone to the tools and technology seminar series there's a sign-in sheet that I just sent around going this way so if you haven't signed it yet please do so and as you know it helps with the pizza so that is greatly appreciated also I have begun scheduling people for next semester so if anyone's interested in presenting next semester please let me know or if you've got suggestions of people I'm happy to contact whoever I'm always looking for volunteers um so today I am pleased to present our speaker about Figueroa who is associate professor of biomedical engineering and surgery and is going to talk to us about crimson Thank You Marcy and thank you everyone is really blessed to be here so today I'm going to tell you about a set of software tools that we develop in the lab for blood flow modeling I'll try to talk a little bit about kind of maybe foundation behind some of these tools but I'll try to make it mostly practical and if you have any sort of questions along the way please of course stop me so first I'll tell you "
    },
    {
        "start": 62.94,
        "text": "a little bit about you know the different components of the software and I'll do three technology demonstrations one is a simple graphic based boundary condition editor then some work that we're doing on automatic controller flow and then some data simulation techniques based on common filter and then I'll show you a specific example of surgical planning that we've done in the hospital so so what we do and think maybe for you you don't you don't need this kind of explanation but we do data driven computations and our computations our blood flow simulation so we get information from the clinic that can be anatomical it can be flow it can be pressure it can be profusion it can be wall motion basically anything that can be used to make your model more relevant and more accurate we can use it so this is an example of db2 simulation gluten this is physics pace this is Newton's law that we're solving here so full-body "
    },
    {
        "start": 123.509,
        "text": "CT scan about hundred vessels or so and this entails solving through structure interaction simulations we solve not just the equations of fluid but interaction with and you can see this thing pulsating this is you know 10 representative locations for the pressure field this is the overall pressure field and this is the same thing for velocity and flow waveforms and you know obviously you know you look at the brain the Circle of Willis you do have the level of detail there and the idea is once you have these and this is properly calibrated you know it's physics pace so you can you can probe for anything that you think might be relevant from a Meccano biology perspective so here for example we are post-processing the shape of the velocity profile in the infrared and on the order we know that that's a location that is very prone for any recent development we understand why so this is the kind of thing some modelling can give you and what we explain to clinicians which sometimes I have a hard time obviously understanding what's you know computer graphics and physics space simulation is that we don't really start doing anything until we have a match of "
    },
    {
        "start": 186.76,
        "text": "the clinical data that is given to us and this is where this image here shows you know the plots here to the left and to the right are our waveforms and and on the edges of the pages we have actual clinical data we basically there's a lot of parameter estimation and adjusting operation until we we get a good match and from there on we say okay now we can start so the key applications of the field is we use it a lot we actually have a very active hypertension research in my lab you can use it as a microscope for instance right to try to get some insight into whatever is it that you're studying the FDA has mandated almost 10 years ago or so through something they call the critical path initiative to use new technologies for accelerating the development of cycling the cycle production cycle of drugs and devices so a lot of computations are done to optimize devices nowadays there are already examples of software solutions "
    },
    {
        "start": 246.939,
        "text": "that are used to make clinical diagnosis this is actually the company of my previous advisor when when I was in grad school we started developing these tools he abandoned he is a tenured Stanford position and started his company which almost two years ago received FDA approval or diagnosis of coronary disease areas you use fluid space simulation in this case to predict the severity of a stenosis and then the you know we're always caught you know my attention and a lot of people in the field attention is the idea that maybe one day you can use this type of tools to help surgeons or interventional cardiologists to come up with the best procedure ahead of time right there's a lot of guessing in the work so the idea of surgical planning and the example I'll show you the Marion is one of such examples so first a little bit of history about the lineage you know about software so you know that you basically cannot reinvent the wheel even relatively straightforward "
    },
    {
        "start": 309.81,
        "text": "component like the massively parallel stabilized fun element fluid solver that takes a pretty much a career to develop so you can really start doing it yourself so of course what that means is that we rely on our advisors work and our advisors advisors to kind of put together over generations a series of products so so this part here is just a kind of core fun element solver for the fluids equations okay they really started off even before our p i-- Rensselaer Polytechnic we continue to develop and stand for big push and now these crimson software stands for cardiovascular integrated modeling and simulation we continue to develop I should say that this is I was in in the UK before I came to Michigan I've been in Michigan for just over two years so this is funded by a European project ERC and our plan is to make an open-source at the end of the project so one of the goals that we have is to we think that we have a good starting point and we "
    },
    {
        "start": 370.6,
        "text": "want to integrate best-in-class open source components for this so some of the things that we have now in crimson that some Basque Euler didn't have so we have a completely new GUI I mean you could you could go to some vascular and see the differences but this is based on a medical image visualization and medical image processing solution called MIT Kay so this is developed by the German Cancer Research Center or foundation soap source of course is based on industry standards for IT kvk very versatile and the idea is that this is a project that is supported by you know a team of 100 people so whenever they come up with a new release we have to do relatively minor tweaks to our software to then plug it into the newer version something that we find extremely useful is that it has a Python base kind of like paraview actually so we can do a lot of things in modeling with that interface in what we do you know as you probably know about "
    },
    {
        "start": 431.199,
        "text": "these as well but there is there's two ways of dealing with geometry the most common is by far at this discrete approximation for the geometry like a discrete solid model and STL or or something like that we we are working on that but we always have an analytical description of the geometry we like that first in storing algorithms we started that way but basically we have a NURBS based approximation once we have a segmentation we do kind of an analytical interpolation and and that there's a number of advantages there it makes surgical planning very easy because you can do parametric alterations of your geometry very easily boolean operations are simpler of course if you have cut model rather than doing them with mesh yeah so so yep so we have these things already incorporated we also incorporated this library for data simulation that is based on family of methods based on the Kalman filter this was done by another you know in this "
    },
    {
        "start": 492.099,
        "text": "case of French institution is called in Rio it's kind of a set of national labs you know you know very mathematically oriented so this was quite a bit of work actually and I'll show you an example of how these parameters dimitr libraries work with our code and then you know we one of the things that we want is to have this as an easier to use research tool may be saying that it will be used in the clinic is too naive because it's still too you know requires a lot of expertise but we certainly want to make certain tasks simpler and I'll show you in a few slides one of the you know most mundane operations for us is the issue of boundary conditions in our computations and we just came up with a way of pretty much drawing the boundary conditions not having to rely manipulation of all these that is very error-prone and very cumbersome I'll show you that you know from a research perspective we were really interested in in transitional "
    },
    {
        "start": 552.519,
        "text": "physiology so what happens when you start running what happens when you have a big cut what happens when you go into the o R and you have anesthesia and then changes your air conditions so so the body has a series of mechanisms that control adaptations to change its impression of flow we are incorporating that and all of these prototyping basically the design of the boundary conditions the fact that you have a series of controllers that exchange information between different parts the thing is you can do it very easily at a higher level with with this Python operation and you basically almost never have to change the core fluids code because these are things that happen on the boundary you can do you can do in a simple way so that's the reason we are deciding it and then obviously will have additional features will Navin explain today so this is kind of the thing about the family of methods and tools that we have so let me just demonstrate the agile boundary condition editor but the "
    },
    {
        "start": 614.319,
        "text": "one thing about blood flow modeling so this is a theory slide if you want is its kind of explained in this picture here so when you do image based modeling obviously you rely on having some image data for the patient inevitably it's it's gonna stop at some point or even if it was like full body like when I show you at some point you know when you see the vessels so what you need to do is whenever you're three-dimensional model which is this kind of red cartoon here ends you are artificially truncating the vasculature there obviously the vasculature continues you just don't see it so you need to come up with if you if you thought about this problem from a traditional fluid mechanics perspective you're like a fluid mechanism from the nineteen sixties you say okay I'm solving for velocity and pressure whereas my flow and pressure under the condition information well forget it there's no way that if you have a vessel tree with like even only ten branches you're gonna have ten measurements in the clinic so instead what you need to do is you need to come up with simple models of the circulation "
    },
    {
        "start": 674.839,
        "text": "that you coupled to each of those outflows you basically have where in mathematics is called a variational multiscale method or a multi-domain method where you have a part of the overall computational domain in which you have a modeling approximation in this case 3d navier-stokes and then these peripheral parts that have a simple model of the circulation the simpler model ever is a resistor it relates a change in pressure with a flow or in circuit series changing voltage with current you can make more complex models with maybe you are some capacitors you have some diodes etc or you can have linear propagation theory or an impedance function or etc the idea is that is a simple model but nonetheless is something that you can couple at this interface between the 3-dimensional end of the dimensional domain and the boundaries so so this is the kind of approximation that we're making for example one of the better-known reduce all the models is this thing called a twin castle okay "
    },
    {
        "start": 735.18,
        "text": "which is a series of a resistor a compliance chamber and another resistor and if you parameterize this wisely you can basically approximate the behavior as far as overall flow and pressure distribution any vascular bed that you want basically up to some some approximation of course so let me show you at this point I'll show you the actual interface so for those of you who are familiar maybe with part of you you'll recognize kind of the overall layout so we have a menu here we have you know this is the image data of a particular patient that we did so the three view and so this is you know in this case we're looking at a problem in which we are concerned both with the aorta as well as this is the order the red vessel as well as the pulmonary vessels so this is this is life and of course I'm not the one who uses the software on a daily basis so I hope I don't mess up but I'll show you how these boundary condition editor the idea "
    },
    {
        "start": 797.579,
        "text": "is that at every single outflow branch you need to come up with a model right so so this is something that you have to be here and then you have to be here and you have to be here and here here okay so so you basically get to choose from a series of boundary condition types you can yeah you can still apply a velocity boundary condition you can be dealing with a boundary wall that you model as a compliant vessel so that would be that you could apply zero pressure a wind castle no sleep and initial pressure so the cool thing here is this kind of graphical interface towards boundary condition specification so we're going to apply a boundary condition in one particular face so we'll select the face let me hide multiple things here that I'm showing let me just choose this and "
    },
    {
        "start": 863.56,
        "text": "then I'll launch the editor so here you're going to have a white board where you have the main components that allow you to draw any circuit that you want okay so for instance this guy here this is going to be the interface with your three-dimensional outlet and then let's say okay I'm gonna you know if I wanted to draw a winged castle I will just choose my resistor I will choose my capacitor here then you put it there then I just another resistor you know you could choose prescribe Brown level here and here and then you know you save this and this going back to the presentation now and of course all the things that we have here just show this [Music] we can take care of basically all the "
    },
    {
        "start": 925.079,
        "text": "modeling tasks including mesh generation so this is the final element mesh and all the bundles a specification is actually done on the analytical model not on the mesh because when we go through the modeling process we do a lot of mesh refinement and fundamentally the boundary conditions belong to a model to a conceptual phase and not to a specific mesh so this is another practical reason why having a an analytical model is it's a good idea so you know obviously I could be talking about this for a long time but it's kind of gives you hopefully an idea of what these GUI looks like so I demonstrated this part now so yeah I mean the powerful thing about this is you can basically design any circuit and the code will assemble at the end of the day that that lump parameter model results into an ordinary differential equation that relates pressure and flow and then that equation is assembled in the background and is "
    },
    {
        "start": 986.1,
        "text": "coupled implicitly with three dimensional average Stokes with additionally to no man kind of operation okay where you're basically exchanging information between what you get in the 3d part with the zero the particle fourth will you have a stable solution at that interface so this is converging the details of the operators that regardless of the design of the circuit they're being assembled in the background so so this okay makes the drawing easy and it also makes it very easy to enable communication between different parts of your Renu's or the models so in this case this is of course an idealized aorta and what we did here is we have for every single vessel here we have a standard four node for every single four for the bottom four we have a standard Winky so so you see a resistor a capacitor and a resistor and then we have two additional phases here this guy here we can design a circuit that behaves as a harm model okay and in "
    },
    {
        "start": 1048.199,
        "text": "this case you see this is a diode so that's going to be the mitral valve this is a to the diode that's going to be the aortic valve this guy here is gonna be a time-varying voltage generator meaning a pressure generator and again the reason we do these things is because a we parameterize information that we may not have and then we actually have a model rather than a direct measurement okay for these things and in this guy here is is an idealization of a coronary vessel the coronaries are the vessels that feed the heart muscle the myocardium muscle itself so these are a different circuit because these guys as they are embedded into in the muscle itself they feel an amount of extra external pressure because about a column one is contracting in systole is squeezing the vessels like crazy so they are the only vessel in the body in which most of the flow that's happened in systole by in diastole so when the muscle relaxants gives them a break and then flow actually go through so if you are doing something like this obviously you need to have a way in which the pressure of "
    },
    {
        "start": 1109.97,
        "text": "your heart model talks to these intra myocardial pressure components that are part of the coronary models these two things because we reduce and reduce all the models they are not physically in the same place but in there in reality they are talking to each other so you need to be able to have the ability of broadcasting information and this is something that these graphical design of boundary conditions and Python control allows you to do so I'm just gonna skip this you you basically have when when you choose one given resistor you can make it dummy you can make it okay I'm not gonna do any sort of transitional simulations it's gonna have a fixed value or you can say okay I'm going to write my own script that simulates a certain behavior that you know it's happening physiologically so this is very easy to do because we have - I mean we have functionalities in terms of mathematical symbolic math that are actually not from MATLAB I mean we have these not very and scifi "
    },
    {
        "start": 1172.55,
        "text": "you know you get a lot of functionality in there which is great okay so I'm just gonna this is more on the on the physiology side so this is more mostly about software I'm gonna skip it for now because I want to show you the applications and if I have time I'll come back to this but this is a specific example that shows how we utilize these control and this communication between different parts of the vasculature when we're trying to simulate adaptations okay I think I will have time so I'll come back to this I just want to make sure I don't rush through some of the applications okay so the next thing is if you do computation you may maybe share the same experience as we have in our group but I know that many other "
    },
    {
        "start": 1232.95,
        "text": "groups have but if you do like heavy computations right I mean we do our simulations we run our simulations in flux and in conflux you know hunters of course in parallel so people will say oh wow that takes a long time yeah sure I mean running the simulation takes a long time might take two days five days four days whatever but if you ask yourself the question of in the entire modeling effort in the time that goes from someone gives you the data - you have this nice PowerPoint presentation if you look at the how much time you're burning in the different tasks for us hands down there's not even a contender is perfect recession okay so we because of our approach to modeling but I mean that's what we have to deal with we don't have enough data in the clinic so extremity session that means that you have to iteratively refine your simulations both the mesh and also the value of the parameters of your model can be elasticity values of the vessels it can be your heart model parameters it can be "
    },
    {
        "start": 1294.059,
        "text": "your distal circulation parameters until you match the clinical data each of these iterations implies basically running a full problem right which is of course expensive but the expensive part is the fact that you have to do it over and over again and what's frustrating about it is that is for the most part a very hoc non systematic task so because we have this kind of dream that these will be use available some I'm in a clinical setting we want these to be done without human intervention and this is what I'm about to tell you now so you already saw this so we take a dynamical systems approach and particularly a common filter approach so what is the common filter so if you have a dynamic operator in a problem that you're solving say in physics versus you know first-order ordinary differential question you can think of that nice dose is this right you have a problem Ellucian in time and in this case you "
    },
    {
        "start": 1355.2,
        "text": "can even lump not just the model itself but the parameters into an operator like this okay so we have something that tell us how the system changes dynamically so in the common filter we rely on observations right on the filtering theory we rely on observations the observations can be basically whatever measurement you have you need to be able to make an American counterpart of that measurement so you have a particularly tricky one I mean the obvious one would be here's a pressure waveform what is your computed pressure waveform do they match in this case it's a little bit more complicated so the animation that you see here the great part that is kinda hard to see is the actual time resolve segmentations of the aorta from dynamic city so we know how they order moves and then we also calculated in our fluid structure interaction simulation the motion of the aorta and these two things are not gonna match and what "
    },
    {
        "start": 1415.289,
        "text": "we're doing here is we're comparing the position of the world boundaries in the entire model if our many over predicts the position of the data is painted in red and if if it's the reverse is blue so in this case we have these discrepancy discrepancy field that affects the entire surface of the model and this is mathematically expressed here Z is going to be your data and in this case the data is going to be the time series of positions of the wall and H of X is going to be what you need to calculate what you have your solution to produce the numerical counterpart of your data so in these cases our world wondering calculations and the difference between the two is a discrepancy and you want this to be minimum if you think about the issue of parameter estimation so you have the classical approach that relies on just a minimization least square so you have these discrepancy between a data and what your model produces you put it "
    },
    {
        "start": 1476.46,
        "text": "square you create your cost function like that and you want to minimize it you know you want those experiments is to be minimum and in doing so you will obtain the parameters of your model that gives you that minimum this is great but not super great for when you have dynamic data that we have no because you you have to somehow state this problem for the entire time domain of your problem the special approach takes a different completely different approach which is explained here if you go back to that first over there operator that basically the physics of your model you say how X your unknown changes over time what you do is you have a penalty term to it which is the product of again which you're going to have to calculate and then the discrepancy between your data and what your model produces so this is of course you are no longer having a physical inconsistent model you're adding a penalty term to it but if you think about it most of our models are wrong I mean we know our wrong so the fundamental way to look at this "
    },
    {
        "start": 1538.5,
        "text": "is to have a balance of or a competition between how much you dress your model how much you trust your data through the value of the game from from a conceptual perspective if you are successful in reducing the discrepancies between your data and what your model police produces by finding the right parameters actually this term is going to be zero and you will be recovering the variational use more additional methods the variational inconsistent physical model so when you are in the right set of parameters you recover the true physics and that's that's basically now the way to look at this not we we do pay their secondary looking we have our model over predicts their variability variability yes yes I don't "
    },
    {
        "start": 1599.59,
        "text": "know you're asking about uncertainty quantification but or just to the fact that a couple of things how much variability is there person to person when you say over predict are there tolerances yeah so so first of all there is a huge variability from person to person and we do patient specific analysis so I've shown a couple of specific examples but I'll show one more at the end of the class and and you'll see that and then the tolerances I mean that's a difficult more difficult question to assess right because you know you have your numerical tolerances that you control you say I want to have an error that is less than this but something that you do not control is the quality of your data tolerance so your MRI is going to have a certain spatial resolution a certain temporal resolution you're gonna have errors because it's not real time so you know breeding artifacts are going to affect I mean there are lots of people that are "
    },
    {
        "start": 1659.83,
        "text": "looking at this kind of problem trying to put bounds to errors and it always leaves it's not a safe form so so yes but this is a this is not a stroll in the park at all so there's various methods and I'm not gonna get into detail but so we have a specific family called release order at center command filter that does these estimations for you what it does is if you have a problem with people emitters the method is gonna run P plus one full-fledged simulations and the reason is doing that is it's basically suckling the the solution space some of them some of those simulations are way off but you wanna you you basically want to know your topology right and by doing that you come up with a statistical description of the parameters how they behave and you end up obtaining an optimum value so the the value of doing these is that you don't have a smart PhD student or a postdoc doing these operations you know "
    },
    {
        "start": 1721.21,
        "text": "again completing time is never the bottleneck right I mean eventually we will be able to have what what is now a 1 million dollar system into a ten thousand dollar system and it will be able to do these things very quickly so that's kind of the reason we're doing this so so let me show you let me show you a specific example I'm gonna show you the actual patient-specific this is a synthetic data case so this is again a completely different subject this is one of my PhD students and this is he say your table and we took in all of these blue circles we took a whole bunch of fixed contrast that's a specific MRI sequence face face contrast MRI which gives you flow versus time okay so we know all of these waveforms we know the anatomy we have nine branches here if we take our standard you know three element wind castle model we're gonna have 27 parameters that we need to estimate so that when we run when we impose for example at the inlet phase we impose the "
    },
    {
        "start": 1781.54,
        "text": "actual phase contrast measurement we get something that looks like the data to the different branches yeah so this is basically the way we go about it we're gonna have nine compliances nine digital resistances and nine proximal resistances we don't know what the solution is so and this is a problem that goes on in time right so this is roughly six seconds remember this entails running 28 simulations so if it is costly but again no one touched it I mean this didn't click run and then came back on Monday now here you see you see the the evolution right for the nine different parameters of each kind and you can see you know there's there's some Wiggly but you basically reach a solution even though every new second you have a full pocket I'll simulation that starts again you see that the parameters are fixed to a value because that's that's the physical meaning of "
    },
    {
        "start": 1841.93,
        "text": "them we're looking at things for example it could be elasticity less this is this not time very yeah so the you have a valium so this is this is kind of good news we have identified a solution I hope you understand that this is costly because it's running as one simulation for six seconds of physical time takes a long time but here we're running 28 but the system was able to find all the parameters by itself how does this compare to the actual data so when we run the final simulation with the optimally determined parameters here is how our optimally determined simulation with the red curve compares in all these different locations well we know the flow waveforms to the measurement you see that's a pretty good job there are some cases where maybe your data has high frequency components and the matching is not as good but that's because your three element win Castle model can only reproduce so many high frequency components because it's a simple model okay so let me first is "
    },
    {
        "start": 1905.92,
        "text": "very exciting which is we've done it already twice which is you know the what you see the the positions have a complex case they are not sure how to do it and they give you four weeks typically does how much time they give us these are congenital patients but adult like between 15 and 20 so we have time to do it but still very laborious so just a little bit of so that you understand the basis so we're looking with patients I have congenital heart disease that means their heart is not normal at birth so this is the way a normal heart looks like so you have the four chambers the the two ventricles one ventricle the right ventricle is responsible to pumping blood to the lungs the left ventricle is responsible to pumping blood to the rest of the body okay and it's kind of like a double loop system these babies unfortunately are born with an underdeveloped ventricle either the right or the leg or the or the left and "
    },
    {
        "start": 1968.32,
        "text": "that means that you know missing one pump out of the do so this is an example of having a hypoplastic means under under develop left ventricle so obviously if you don't have you can't even leave for an hour after birth so they need to take care of this immediately and they do it stay in a staged way here you're looking at the final result after two or three operations and what they do is plumbing basically so what they do is the aorta which is the main vessel that takes blood to the body is hooked up to the operating to the one ventricle that works and then obviously what happens is that you don't have a ventricle to handle the pulmonary circulation so this is done by connecting the veins that bring blood back to the heart instead of going to the heart now they are hooked up directly to the pulmonary artery okay so the pulmonary circulation blood gets to the lungs without ever touching the heart okay this is this is kind of these "
    },
    {
        "start": 2028.58,
        "text": "by forget these teachers you see here this is the best you can do because you only have one pumping chamber yep so this particular girl think we have the demographics but she was 20 she is 21 and this is the history of open chest surgeries that she had to endure okay so she had this operation when she was to where these vessels were connected to the pulmonary artery when she was seven they kind of completed the circle so the the inferior vena nected to the pulmonary artery that they saw that the problem I will describe in the in the next slide appeared and they said well let's see if it goes away it didn't so three years ago now she's 21 came back and they the chest again to redo the operation and that didn't help either and they just run out of open surgery tries because it's super more of it so they try something else and that's the reason they called us so what happens in this patient just the simplest way I can "
    },
    {
        "start": 2089.72,
        "text": "explain it to you is the comes from the lower part of the body which is going to be followed by this vessel here you need to make sure that it reaches both lungs evenly the reason being is this blood comes back from the liver and the liver makes lots of compounds that break down lots of things and also it is now known and among the things that the Lubar makes is series of factors that prevent proliferation of new vessels okay so you need to make sure that that's what happens in cancer basically when you have a very fast growing tumor it's because there's a lot of angiogenesis around the tumor so the leader makes factors that make sure that systemically in your body you don't grow vessels for no reason so if what happens is if you shunt preferentially just because the way you hope cook up vessels if you do it in a way that most of these flow goes to one lung and not to the other there "
    },
    {
        "start": 2152.17,
        "text": "is a very strong evidence that the tongue that doesn't receive enough flow from the liver is going to start developing these new vessels okay and this is the problem so these vessels basically are unintended junctions between arteries and veins these are known in the field as pulmonary arterial venous malformations so when that thing happens so normally you know this is let's say that this is the artery yes tree should deliver in this case is deoxygenated blood to the alveoli dump off the co2 pick up the oxygen and then come back through the main what you have these new vessels that form because that lung is not receiving enough mantle from the liver you can have these bypasses basically okay you have these grow blood never makes it to the alveoli you also have like a short circuit of low resistance because you have arteries and veins connected together which they are not supposed to so so this patient "
    },
    {
        "start": 2212.95,
        "text": "presented with a very low oxygen saturation we all have between 95 and 100 that's what she had 70 really low and she had a very high cardiac output at rest even though she wasn't doing anything but she had this short circuit so you have the high pressure artery you really connect it to the low pressure vein so obviously you're gonna have a lot of flow going that way because of the path of low resistance so this is in a nutshell her problem how often does this happen a lot so this is what these graph here tells you this graph looks at in groups of patients that have maybe some abnormality in the venous circulation okay maybe we all have differences inside what about your question were sniffing inside as we are in the outside so these are patients that have maybe an interrupted inferior vena cava but a normal heart so they look at it look at these guys over time and they say do these guys have these problems in the lungs and you see after 20 years nearly after the operation "
    },
    {
        "start": 2273.21,
        "text": "nearly all of them don't have these problems now in patients that have abnormal venous circulation like this girl did and this kind of connections between the pulmonary arteries and the two veins if you look at after 12 years nearly 40% of them have this problem and if you think about it now if you don't think about ultimately designing these of course is gonna be the point cause I mean you when you are what you want you when you have the open chest there and you try to connect the vessels together obviously you're thinking about the short term the patient needs to leave the operating table alive you want to successfully connect their anastomosis which is the junction of the different vessels so that there's no leakage you worry about those things but you don't really worry if you are surging about but I think about the profusion of this particular vessel if I think about the profusion of this particular vessel to 2h low am i achieving that ena in an "
    },
    {
        "start": 2336.81,
        "text": "even way you're not you're not doing that obviously so I think I've modulated the problem so um okay I think this is yeah there you go so in the literature also has plenty of evidence that if you manage to successfully by doing the operation to successfully reroute and expose the lung that has these anastomosis to have a flow that revert so the physicians know this right these are plenty there are plenty of papers that show this so okay so this is kind of the type of person that we're dealing with so in this case we had the CT scan of the chest to make it even worse these wires that you see here are a pacemaker so that means no MRI unfortunately so we had to rely on ultrasound for flows but "
    },
    {
        "start": 2398.26,
        "text": "we had lots of flows everywhere we have lots of pressure everywhere and this is and this is the anatomy so just like this so this is what we load in the software we do the segmentation and okay so so in this case we have like I said flows everywhere unfortunately and this is the situation we're dealing with so we have three vessels coming together the name is not important we have this one that brings almost 70% of the flow this is the superior vena cava about a quarter and this is a small one but the critical one because this is the one that comes back from the liver okay and we have two outflows this is the right pulmonary artery in the left pulmonary artery and you can see that these carries down the flow then this guy so this is the one that has the shunts further down because this results in low resistance right and so for everyone in this room is about finders per minute this lady is 10 liters per minute at "
    },
    {
        "start": 2458.47,
        "text": "rest because of that low resistance so to answer your question we we do specific analysis to each patient that we did so we also have perfusion data I'll get back to this in a second these patients unfortunately they get so much so much interpretive assessment that is good for modelers so because a situation very clearly in which we have this vessel these dots let's call them these are the when the liver makes that we worry about whether they reach both lungs evenly or not so we know that in this case is gonna be conceptually something like this it's gonna be be mostly biased to the left lung of the patient to your right and then because another open repair was not an option they said what we go with an endo graft which is something that you can apply it with a cap that you can deploy it with a catheter what if we deploy a Stan graft in there so that we change how these three different vessels mix their flows and we perhaps managed to get a more even "
    },
    {
        "start": 2519.219,
        "text": "distribution of the profusion coming from this guy to both lungs that was the question that this guy is recognized that is such an engineering question that unless you do it somehow there's no way you can guess right so we appreciate it that very much so the modeling process for this particular case fed first from the CT data we create a three-dimensional geometry of the vessels of interest this is the one who really care about this is the one where we're going to study the perfusion and the first thing we do just like I showed you at the very beginning of the presentation is to parameterize our model until we match the data okay so there is absolutely no prediction here this is the result of a tuned model for this patient so here we have the pressure here we have velocity so you can see there is very high velocity here again this is not a prediction we know that this lung carries that with the flow than the other so now it's parameterized so that we have that so if you look at our computed right-and-left "
    },
    {
        "start": 2580.9,
        "text": "flows we have 6.3 in this simulation we're happy with it going to the right and 3.3 going to the left so once we have this we say okay we trust this virtual characterization of the problem of the patient let's study perfusion in the so you see here is basically three things the anatomy of the patient the previous solution the previous velocity field that I just show you and now what we're going to do is something called particle tracking which I'm sure you you heard of it so what we do is we release a bolus of hundreds of thousands of little particles and we see where these velocity field takes them and you can see that you know because of the way these vessels come together even though this is a vessel of low resistance most of the particles actually end up here and we can calculate it of course specifically every particle we can keep track of it so so what was the idea how to do this what was the actual operation or in this "
    },
    {
        "start": 2642.489,
        "text": "case and the vascular operation that's the patient the the stent graft was sized to be 13 millimeters in diameter and 15 millimeters in length and what we consider was multiple protrusion lengths so these these that were looking at it from the left side so this is the Stan graft and so we're going to consider a situation in which the Stan graft is protruding 70 millimeters into the mixing zone obviously needs to be landed into the vessel for structural attachment then 20 22 25 30 27 and 30 so we run all of these preoperative cases okay each of them is a visual analysis okay so and we didn't know maybe you run it and you get a full behavior for oh maybe there is no optimum maybe there is no minimum for this particular case in this case there was so here we are just coding in this case with path lines where do they go when we see them in that vessel so the ones that go to the "
    },
    {
        "start": 2703.48,
        "text": "left lung of the patient to your right red and the ones that go to the right to your left is blue so this is the pre intervention we already know is very biased and those are the six different cases that we run and we were very happy to see that there was an optimum and the optimum is this 22 millimeter okay so here is such case it's hard to see but now here you have a step graph that is sticking in 22 millimeters and you can visually perhaps already appreciate the difference okay it's a little misleading because remember that the velocities here are much higher so whatever particles go that way they just get washed away very quickly so the thing is we can quantify things that's why we are engineers and and this is kind of the uptake curve so we look at percentage of the total box that makes it - or percentage increase in this case that makes it to the right line which is the one that needs it so we see that there is an optimum and that 22 millimeter "
    },
    {
        "start": 2764.8,
        "text": "length this is a specific table that tells us about the splits so that was a good message that we said we're happy there's an optimum we told them these four days before the procedure basically we were really running against the clock there was such an optimum it's still not 50/50 it's the best you can do though is you know pretty close but the thing that kind of shocked as the most in retrospect no of course but at the time when we did this is what happens if you just push it instead of 22 millimeters you push it one centimeter more you end up with a distribution that is just as bad as if you didn't do anything right just think about how often these must happen in real practice right well if the difference between an angle one maybe one centimeter is a bit extreme but I don't think so actually pretty big distance when when these vessels they are not that big vessels right so of course our indications to the cardiologist were very simple you know this is all infinite precision in "
    },
    {
        "start": 2824.9,
        "text": "your in silico model but we were very simple try to aim for roughly 20 22 don't go past that because it's gonna we predict that is gonna is gonna do poorly so they did the procedure four days later and you're looking here at an image of the after procedure so this wire that you see here is this tank wrap this guy's incredibly skilled with their hands so this is the sternum of the patient whenever you see these kind of rings it means that tight after it was open many times so this is the anterior aspect this is the posterior aspect they measure the length so they know the 22 millimeters in the posterior aspect the anterior aspect of course is not going to be still confidentially symmetrical is less following our recommendations okay so but right now I haven't proved anything I mean this is all virtual so far but because we could do it before the procedure we told them about a couple of things they could do to verify if indeed what we were predicting what's "
    },
    {
        "start": 2885.619,
        "text": "happening or not and this is the neat thing about this so we told them that what they were doing the procedure they should do a couple of angiograms so an angiogram is they have a catheter and they inject dye in the catheter and they see where it goes in the circulation so we ask them to do it before and after okay what the patient was on the table so this is the preoperative and you so this is the catheter the police the dye on this vessel that we're trying to investigate and you see a massive bias to the left lung of the patient to your right you almost see any contrast here in our efforts we always try to draw things as close to what they are used to see but this is basically a visualization of particle residence time okay so whatever you see lots of particles is gonna the contrast is gonna look you know more intense and we already knew based on the simulation and I show you that that was the case so they inserted the device and then they did that additional angio so you can see how the device is already in place now and they release the dye and "
    },
    {
        "start": 2947.06,
        "text": "you see that bias is gone so a much more even a split of where that dye goes between the left and right and this was obviously also what our simulation have predicted so as this was incredibly exciting the the the both cardiac surgeons and cardiologists you know like I said we have already done another case and every time that they have a complicated case we're gonna organize help them this way the patient bath might be better so three weeks later the oxygen saturation went up from 70% to 85% so sophistication that we didn't really do anything therapeutic what we did is to us better as best as we could forward those anti Genesis or active genesis inhibitors to the lung and then hopefully their work so um yeah I Nia will run out of time so I wanted to go to the gate so thank you and we have any "
    },
    {
        "start": 3008.8,
        "text": "questions yes and what if they find out as it obviously happens that they did it wrong yes they can do that right this is this involves sutures right this is like you you you have to bring a vessel and connect it to a specific location so undoing that is a major deal so these pictures are you can do the preoperative angiogram yes they do that all the time but not to answer no you need to finish the surgery and then do the angiogram because you're trying to explore how it behaves right so yeah and "
    },
    {
        "start": 3074.09,
        "text": "and it happens according to those papers almost 40% of the cases which is actually pretty good I mean obviously the surgeon knows that I should get something even it's not like a monkey is doing it right but there's still a lot of lack of insight for the specific flows and and and how the vessels come together that you can get thank you thank you [Applause] "
    }
]