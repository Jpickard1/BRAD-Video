[
    {
        "start": 0.399,
        "text": "uh so hi everybody uh thanks for the intro and yes so for this talk I kind of wanted to be more like a discussion like you know there's so many tools like Alpha fold 3 or diff do that you might have heard of and you kind of don't know where to start so uh I think this will be pretty helpful for like trying to pick a project or pick a tool that you might want to play with because each part of the paper that I'm presenting is itially like modular kind of code block that you could play with on like a notebook or something so um but yeah so I'm a fifth year PhD student in Charlie's lab the Charlie Brooks um we do mostly uh classical mechanics or statch molecular Dynamics type stuff so that's where a lot of the inspiration for the molecular mechanics part of this talk is from and then I'm also interested in machine learning methods so that's why "
    },
    {
        "start": 62.399,
        "text": "that's like bridged together uh and yeah thank you for the opportunity for the DCM tools and Tech seminar check out the YouTube channel they have lots of cool videos so mine will be up there hopefully um so yeah so same summary um there's like way too many tools like if if I ask you like Hey how do I run Alpha fold 3 and you're like I really don't know um I wish I had like this like a little 100 line piece of code that I could follow and be like okay yeah I could read the code because whenever you go through papers and like especially machine learning or like tool papers and it's like full of math I I just can't read it so there is no math in these slides it's just Concepts and code which I think is more digestible um yeah so my paper um I guess why I'm doing this talk is uh it was published in B formatics earlier in "
    },
    {
        "start": 122.64,
        "text": "January so there's the associated article and GitHub repo um with the paper but so the next thing just I'm going to be breaking this talk into like two parts so first we're going to start with Concepts because sometimes you say stuff like oh I used Alpha F 3 doc did buying infinity and you're like I don't know what any of those actually do on their own so I'm going to be breaking down the individual Concepts why I linked together like specific things the way I did um and hopefully it makes more sense that way when we actually like look at the code and you could be like oh that's the step he was talking about so first thing um proteins so proteins you can represent them as a sequence as a structure as the whatever biological function that they do uh the problem is all of those are not um low dimensional spaces like any protein quences and choose 20 so a 400 amino "
    },
    {
        "start": 183.64,
        "text": "acid protein is 400 choose 20 different possible combinations which is too much and then structure that's continuous in cartisian coordinates so it's kind of like you can't even make it discreet and then function there's thousands of classifications so proteins literally do everything which is why I like studying them because they're part of making your cells you know move they're why ATP is used everywhere because every protein loves ATP to do some really cool activity um and the protein that I'm going to be talking about is in oh so this actually my experimental collaborator he's actually half half the stuff I talk about he's he's like involved in it mostly on the the wet lab side so that's great all right Chad you want to introduce yourself no no okay he's a fifth year from Allison's group so so if you're interested in experimental side of this because this is also um proteins are "
    },
    {
        "start": 246.28,
        "text": "just not computational like we study them in the lab and that's what Allison Ryan's group does and I think Chad is like a good representative he's fifth year like me so lots of wisdom so all right so the point is uh you know I guess what what they actually do in a collaboration with my lab and Allison's lab what that typically looks like is is if you want to explore protein sequence structure space is um you start with the natural protein like one maybe one crystal structure that you're pretty confident about you do some docking MD and you're like okay these residues might do something and then you test it experimentally and that's kind of um how it mostly stays like so for rational design you know they do crystal structures and molecular Dynamics and qm which is expensive and only you know you can Target the single structure and most of the time you can only really understand the binding site you can only really see like hey these residues interact but I don't really know what "
    },
    {
        "start": 307.8,
        "text": "they do I just know they interact with the LI which is not often that useful uh so the I'm going to be talking about designing a workflow for navigating this really high dimensional Space by combining uh tools that are well established for multiple Fields so all of these tools individually you know they deserve their own time to be talked about um because they've been built on like you know 20 like all the molecular mechanic stuff is at least 50 years of stuff that it's built on so I'm just going to be covering the part of why you should use it um so it's just going to be the code and what you can actually do so uh so I guess to make the example simple we're going to do uh I'm going to pretend like I'm in a collaboration with our lab what a normal typical computation biolog or chemistry lab looks like where we have a bio Catalyst it's like a 400 amino acid enzyme so lots of possible sequence "
    },
    {
        "start": 370.56,
        "text": "combinations you only have a handful of Crystal structures but you tested them in the lab and you want to go to your computational collaborator and say hey this is the data I have and this is the data that we have for a lot of proteins because proteins have been engineered for a long time uh is there like a smart way I could plug all this data together and get something meaningful out and yeah so that's the the whole point is to work with like a real estate data set so right now if you know Chad was engineering a protein you know he would want me to give him a model that he gives a sequence I tell him what the function of that sequence does so he can synthesize it or whatever now obviously that's impossible uh so we're going to insert a little bit of stuff in the middle so sequence sequence space 40022 way too big we can look at real enzymes and see you know you don't have to search random sequences you can search "
    },
    {
        "start": 431.8,
        "text": "sequences in the same enzyme family and then you can link that to function so that's pretty standard um next thing is okay well how do you go from MSA to function so you can do some analysis with your eyes like you can open up the MSA look for column and then your eyes are like kind of struggling but you know that's only good for binding site residues most of the time because there's just way too much stuff to look at so let's just say there's a helpful ml model that does that job for you so takes the MSA does something fits out the function that Chad wants uh and we're going to talk about how it works but you can pretend like each column is a feature so you have like an Excel spreadsheet with your MSA with all the gaps and residue uh names and then you just fit it like a you can fit it with a linear model um I'm just using a random Forest because slightly more "
    },
    {
        "start": 493.84,
        "text": "complicated um so the problem is you know in a realistic setting uh there's no ml model you can train with like 10 to 100 uh data points that can map a multiple sequence alignment to a function so we're going to pretend just like if we keep going hypothetically uh we're going to let's say this model is trained on some synthetic data so this is actually pretty common um so if you think about it like if you want to train a large language model uh might be easier just to take the output of gp4 and train your model on that so that's synthetic data um there's also weak supervision where you have another model that Weekly labels every point then you fit a model on that and uh it it learns to somehow map those weak labels to the particular space you're working in so this way the labels might be from literally anything it might be some complicated you know Dynamics analysis qmmm but if I just "
    },
    {
        "start": 556.56,
        "text": "turn it into a label then it's a really easy problem to to map and then if you pick the label smartly like if it's based on some structural or domain knowledge um you can train a model like this so to get that kind of domain knowledge um so that's the point of molecular mechanics is you know people have been using structure prediction docking to engineer proteins for I would say at least 30 maybe 40 years um and you know modern force fields in in like charm or open mm are pretty accurate so uh I think the the problem now is we have a very wellestablished well qmm is very well established molecular Dynamics very well established but it's hard to connect it and see how it would be useful for training machine learning models so that's the point of this paper here is that hey for every sequence here "
    },
    {
        "start": 618.44,
        "text": "we can get the structure pretty simply just for an Al and then which sounds hard but then you could see in the code snip it's oh it's actually you just run Alpha fold and it's not that intense so do alpha fold use a molecular mechanics force field to put the co-actor for this protein that I'm working with and then do some docking and refinement in the force field and that's basically condensed into just saying hey structure doc give me function or give me a label and the label doesn't have to be perfect it just has to capture some pattern that is repeating over and over and over again in like of sequences so if I told you hey my MSA is like 20 sequences and um I have predictions for and labels for all of them and I train a model on that you'd be like no that's uh ridiculous but let's say you have a thousand data points and you did a thousand docking thousand "
    },
    {
        "start": 679.0,
        "text": "structure prediction thousand refinements and you're like hey I trained a model on these labels now obviously the force field is not accurate perfectly accurate there might be specific side chains that don't actually look you know be in that dihedral space and the Lian doesn't actually prefer that the minimum energy posed in that force field or or something but nowadays I think modern force fields are are good enough to cover that so okay uh pretend like MSA something is labeling all of these MSA sequences you could train a normal model on it and then you're like well and then Chad's like you know I really don't want to plug in thousands of sequence combinations can you just tell me which residues you want to mutate which is the biggest request from an experimentalist collaborator because that's all they care about right yeah so um so yeah they just want to they don't care about the "
    },
    {
        "start": 740.32,
        "text": "hard work they just want hey which residue do you do I mutate and why and since we have a model um explainable AI is also been around for like I would say 10 years like lime shap um there's like a new one that just came out but they're all pretty well established and this isn't a complicated model it's just a random Forest so it's pretty interpretable so like if you think about how a decision tree Works um we're going to look at this MSA column position 239 which is the same residue aligned across all of the sequences protein and then we're going to say if it's F go this way if it's y go that way and then if you do that enough you could just basically break down any problem into like hey can you plot how any particular residue affects the final function that you predict and uh that makes it actually really easy to interpret which is I think the most fun thing because "
    },
    {
        "start": 801.32,
        "text": "sometimes it's hard to understand why you're doing this but having a nice plot at the end like of different different residues and their importances and their kind of their impact on different aspects of the function of the protein is a really useful uh thing to tell your experimental collaborators so that was a simplified version uh the last 10 slides um basically the paper is a little more complicated but the concepts are the exact same I didn't like skip over anything it's we have the MSA we do some structure prediction Alpha now we just have bit more details on how I dock it and I'm specifically predicting stereochemistry and reactivity for these enzymes that's the data that we have and because stereochemistry is it's typically a structure like you can infer the stereochemistry from the structure of the protein because you can dock different enan humors you can dock the "
    },
    {
        "start": 863.079,
        "text": "substrate see which the facial selectivity and then you can assign some score that says hey enzyme perver that the same with activity we know which we know that in this protein it interacts with an Arginine really strongly and if you mutate that Arginine it kills enzyme so I trained another model with some distances and some you know the docking energy and the predicted binding Affinity from some other model so it's like a consensus score labels it reactive or unreactive and um yeah so if you're interested particularly like in the major kind of program or concept or tool behind each of these steps they're laid out and they're laid out in the following slides but I think this is like a good summary like if you want to learn about Alpha full 2 then check out that slide or if you want to understand how rigid receptor docking you could do it really fast with like Fast 4 transforms you could check that out but I think each each of these individually is like too long to talk about so I'm "
    },
    {
        "start": 924.36,
        "text": "just going to show you the code to how to run any of these yeah so that's the point of the rest of the presentation so I only have like 30 slides and it's 12 17 so you know I think this is the part of the presentation that you should ask like Hey how do I run that and like can I run that with this particular you know example that I have or this particular um you know toy that I want problem I want to teach myself like if I want to teach myself how alph to can I run your notebook with this and I think most of the time the answer is is uh yes because they The Notebook you need basically two different cond environments one for Alpha fold one for everything else Alpha fold is kind of the environment is very big for it so I couldn't manage the dependencies so just two con environments stup or lab spin it up you won't be able to run the examples with gpus but you can run CPU and mostly fine "
    },
    {
        "start": 987.759,
        "text": "and they should work perfectly fine um but to start with we're going to talk about specifically what enzyme are we talking about so uh this is a Flav independent monooxygenase so what that means is we can start here flaven that's The Fad co-actor um so we're going to have to model that into the protein uh because Alpha fold only predicts the APO structure uh without any co-actors bound now Al fold three you could plug this in and specify I want fad but it doesn't give you a lot of control and if you want to do a th000 at once it's you know you can't sit on the server and do that all day so um but why this system specifically is because the substrate we actually know a lot about the substrate so the substrate sits in the pocket and it has a particular Bas that is exposed to fad and fad takes uh an "
    },
    {
        "start": 1051.96,
        "text": "oxygen from or O2 molecule interacts with it then Subs the hydroxy group onto a particular face so that's what happens here that's why this is the substrate and then it gets a hydroxy group and this one is sticking out of the plane so I think this this one is like the r or tumor and then if this Lian was flipped around or in some other orientation but with the other face somehow explo exposed to fad they could be like hey I could predict the sterochemistry I don't know if I'll be reason accurate but it'll be decent it's better than nothing and for reactivity you know we have previous site directed M Genesis experiments with thyrosine 239 and 206 and we know that um from a previous paper that so Chad got a paper in PN and that's why I really like because I was dragged onto it computational "
    },
    {
        "start": 1112.6,
        "text": "modeling that's that's why I could say DNA um but basically the point is uh in this paper we wanted to understand why exactly you know a specific enzyme uh prefers like an R because if you're thinking about it why do we care about this reaction it's used for you know down synthesis of organic natural products or not organic uh biotic what are they called natural product synthesis yeah but a lot of natural products are basically antimicrobial U they're potential drug um compounds uh a lot of current FDA approved drugs are from just some random natural product that somebody picked from a tree and it turned out to be a cancer drug so but the thing about drugs is uh the sterochemistry is super "
    },
    {
        "start": 1174.559,
        "text": "important like I think we've all heard of like there's like examples of drugs that the other Anan tumor will kill you the other Anan tumor will actually I guess take away your anxiety I don't know oh it's not that it's not that like um dramatic but stuff like that does happen so we have to be basically almost uh if we can make any particular an an tumor with 100% uh selectivity that would be pretty helpful for different substrates so that's why we're studying this system so in the the oop so in the pnas paper what they did was um it's kind of like a fancier version of building an MSA so built in MSA and then we can connect the real enzymes with ancestral proteins so these ancestral proteins kind of are Chimas and kind of try to explain how each of "
    },
    {
        "start": 1235.88,
        "text": "these extent enzymes evolved so you like build a philogenetic tree and then if you then each ancestor is like a mish mash of all these different uh enzymes before it so that's really helpful because the ASR does the work of hey these enzymes have specific mutations which makes them related and related enzymes typically have the same function so you could basically block different sequences of ancestors and extent enzymes that's what he did he basically sampled a bunch of sequences from The ancestral tree and we and he tested them with four different substrates so we have about 60 enzymes uh with cell late and we know this enzyme kind of does s kind of does r um which we'll talk about the data more but that's why we're studying the system and that's kind of a realistic amount of data that you're working with cuz we didn't even you didn't even purify the enzyme so it's just cell iate which is actually not that hard to do 60 cell iate "
    },
    {
        "start": 1296.919,
        "text": "reactions um the hardest part is just getting the sequences but since we have ancestors we're getting sequences that are kind of more informationally Rich which is why uh because we've modeled this system and because the sequence space holds so much information um that's why I wanted to study this particular system because the point is I want to be able to validate hey I do find that these residues are important or control stereochemistry the same way Chad did but you know despite all of this fancy stuff uh we only know what a handful of binding site residu do I think we only know what like six or seven kind of you tested like like 10 and then you know you enzymes are much more complicated than 10 binding site residues like there's second mutations that can somehow affect the structure of The Binding site or maybe there's like a particular secondary structure element that's evolved in two different enzymes "
    },
    {
        "start": 1359.24,
        "text": "or enzyme families and that somehow modulates the Dynamics or something so enzymes are super complicated and just knowing The Binding site is just not enough to do engineering which is why directed Evolution you usually do the like an expanded shell about like 90 residues or um you could do aerone pie and get random mutations scattered around but uh it's just it's not enough information despite how well studied this system is so that's why it's a great model system uh yes so just to I guess get more into Data so this is the ancestral tree that Chad built with Troy Yore from Sony Brook shut up um each point in here is an ancestor and these sequences here are the extent sequences so the diamonds are extent so this one would be like a hit from like blast like You' go to ncdi blast and get the MSA and then all of "
    },
    {
        "start": 1422.12,
        "text": "these are kits for like a particular entry sequence um we picked one or Chad picked one sequence that we have a crystal structure for got all of these hits from blast and then the ancestors are built to kind of the timeas of these sequences so like for example maybe this so like if we zoom into this ancestor or over here so these regions are colored in because these are the particular plates that Chad studied because there's a lot of enzymes that actually don't do this reaction but they're somehow structurally related so um but basically what happens is the yellow region is one particular ex and sequence that we're interested in because there is a there's a sequence for a all these yellow dots mean these enzymes do s "
    },
    {
        "start": 1484.679,
        "text": "sterochemistry with the substrates that Chad tested and then because we can do ancestral sequen construction we can actually just walk up and see well what ancestor you know change to make the other plate over here do our coch chemistry so you can walk up to history and then these ones will carry mutations that kind of try to explain why those sequences diverge so that's why it's a great kind of training set to to try out um so and then the numbers here is Chad as say 67 total enzymes with four substrates so that's 67 * 4 data points with cell iate which pretty standard um and we have a handful of R handful of s and in the paper Chad showed that there's one key binding site residue that is if you show up if you look at the MSA column uh between these groups "
    },
    {
        "start": 1546.48,
        "text": "of sequences and uh the ones with the opposite sterochemistry there's a pretty clear marker in the MSA that a fenine the tyene makes it go from s R so that was like a basically the whole point of the paper and then we talked about some other binding site residue somewhere in some dist plates um which is why this particular clate is highlighted but the major Point here is that we have all of these unlabeled um data points in purple and you know we can help flesh out the missing gaps we can also help figure out hey these are totally known plates is it worth their time looking in these are there any particular interesting features that maybe they don't even do the reaction but the way the Ligon is positioned in that pocket would be helpful information like different residue combinations we can try because technically all of these sequences are valid um combinations of the same "
    },
    {
        "start": 1607.279,
        "text": "underlying base structure because they all have almost The Identical structure if you align them they're essentially probably less than five in from rmsd from each other at at most um so you know this is kind of like why we want to explore the sequence space but the problem is you can't I can't ask Chad to test a thousand proteins for me um so that's why we have to pick 60 uh okay so the first part is if we remember the whole pipeline was we got to start with the MSA and we got to give it some assign labels so to give it those assigned labels we're going to have to do some uh molecular modeling and and predicting the structures to get something some structural feature that correlate and wants to be the label or is the label we want to train on so in this particular case Alpha fold is really great there's a notebook so I "
    },
    {
        "start": 1669.64,
        "text": "guess every slide is formatted the same way there's a code code Snippets that I think uh if you scroll in the notebook and find are kind of like the main points of that notebook that you might just want to look at that cell if you're interested in if you don't want to run the whole thing um and then we all I also have like the URL at the bottom so I'm going to also upload the PDF to the repo later so if you don't have to like worry about something you just have to remember one link the I guess the get up repo to like Charlie's lab or this particular paper you don't have to memorize all these paths or sh them down if um but essentially Alpha fold is Alpha fold is really great except if anyone's had experienced running Alpha fold it takes a really long time and it's because the alpha is two parts there is an MSA generation and template search on gigantic two terab databases "
    },
    {
        "start": 1732.559,
        "text": "there's a smaller version but it takes like several hours or like a 400 Amo acid protein because it's all CPU based it's running Jackhammer like or HH Blitz or something on a on a large data set so um all these sequences are basically almost identical I mean they're 40% identical so most of the time they're going to have the same hits so it's kind of wasteful running the inference Pipeline and searching the entire two terabyte um yeah set so that's the point of this notebook so what I did was uh remember how I said all of these proteins have the same underlying backbone they're kind of just evolved to have different variations but from the same template is we actually uh I we can build that template we can get the consensus sequence which is kind of like the average sequence if you took the 800 took the average across the colums "
    },
    {
        "start": 1792.919,
        "text": "that's what it is and you can so I'm I'm doing that with HH consensus which is is a tool from HH Suite which is a really awesome I think a lot of bioinformaticians use HH Suite it's pretty great for fast sequence alignment um but yeah so we built the consensus and then on my computer cluster I had enough resources to run the full inference Pipeline with the full database so I ran that and the output of that run is stored on the repo so everything you need to do to reproduce any particular thing you don't have to download anything most of the notebooks should be just run with the data in the repo so for example this one there's a there's a directory uh right in the same example folder and it holds the results for the consensus run and then we can actually if you're interested in what the output of alpha "
    },
    {
        "start": 1853.0,
        "text": "fold looks like I would recommend looking in that directory if you're interested because I take the msas that were generated from that run so uh Alpha fold has three different msas that it generates and then kind of combines them together uh so before they got combined together I just took it put it in like a giant list of fast the sequences and I'm saying this is my new database it's not as big as the two terabyte one it's about a few megabytes so um yeah so it takes about like a few maybe like a minute to to run on so and now talking about actually running Alpha fold so that's the second notebook so we have this uh data set of sequences that we're going to use for our new MSA inference pipeline so what happens is instead of the three data sets or the three msas the alpha fold the traditional Alpha fold uses I just stole their code for "
    },
    {
        "start": 1915.32,
        "text": "Jackhammer for the Jack one of the jackhammer or MSA generation uh steps and just run it on my particular data set so if you so it's pretty modular so if you look at the actual inference code for Alpha fold it's one script with like 400 lines and a lot of the paths don't make any sense or like there's like 20 paths that you have to set just to run Alpha fold um so like it's really nice that you could just run it from this cell and then any particular Parts you can look at at this function and then this function will say hey I'm building an MSA then the next step hey I'm running the uh I'm running inference on a GPU and then hey now I'm relaxing an Amber and all of those are separated out as individual steps so it actually makes it a lot easier to learn how alpha fold works because I had to go through the original script and convert "
    },
    {
        "start": 1975.799,
        "text": "it to this and it wasn't wasn't the easiest so I mean yeah um but for like context because I think a lot of you are how many of you are computational raise your hand okay we got we got a handful so you might have access to like a GPU that you can run your Jupiter server on uh and have a GPU available to your notebook and so you can run the MSA generation with the CPU and it's going to throw out an error hey I put find a GPU uh so but if you have a GPU you can plug it in or launch Jupiter lab from that node with the GPU on your cluster or whatever it takes like five to 10 minutes to run this example so the nice thing about all these notebooks so sometimes people release training code or notebooks but then to actually run it is kind of a hassle in itself it's likey do I really want to set up distributed training with all these gpus to train "
    },
    {
        "start": 2037.159,
        "text": "them on like no I just want to read the code and understand what it's doing so all these examples all the notebooks should run under 10 minutes except there's one notebook for training the random Forest models and that takes like an hour but it's not that bad um so ideally you can spend you can look at multiple notebooks in the course of a day so you can kind of understand the pipeline and if errors are thrown because you don't have a GPU you could just skip to the next notebook none of them are reliant on the output of the previous one so you could jump in anywhere you want like if you don't care about the consensus sequence I won't I won't blame you it's not as interesting as Alpha fold so I would just go to this notebook um so the next thing is okay can you really just take away the three different msas and two terabytes of information and say the consensus sequence hits do as well um so the answer is I think so because if we look "
    },
    {
        "start": 2099.32,
        "text": "at there's no actual real way to validate this I can't make like a thousand Crystal structures and align them but what the nice thing about Alpha fold and most modern like Alpha fold 3 and esm fold and um Rosetta fold they all output confidences because people love to be confident in their predictions they're like I got this structure from alpha fold it was really hard do I use it now and then great the great thing is each residue is scored by the quality from a confidence Block in Alpha fold which is pretty cool so if we look at the average predicted uh I forget what ldtd stands for but it's some representation of side chain environments and making sure that the en environment that the residue see in one protein is pretty similar to the environment in the other because if you do simple backbone alignment not might not capture the perfect "
    },
    {
        "start": 2161.04,
        "text": "rmsd uh type of thing so their predicted score goes to a Max of 100 all of mine are mostly above 85 which I would say the cutof for a decent structure I would say is 80 so that's pretty reasonable this is probably what you would see you know most of them are good some of them are stragglers um if you're interested in what the stragglers look like uh I do have an I do talk about one straggler and color it by the plbt and you can see like the central core is colored in blue and it's like super confident and then all of the loops and everything near the surface is red which is typically what happens because we have the most sequence and template information for like the central core uh and you could still use that for modeling because I don't really I'm not docking like the outside region so like that's like kind of an example um how to because half the battle is understanding what the how to use this thing so even "
    },
    {
        "start": 2222.56,
        "text": "if you get low quality structures you still need to look and say hey is this in um you know part of the protein that doesn't really matter I don't care about this Loop is inaccurately modeled so if you're interested in that type of expiration I recommend that so next thing so Alpha 2 um and I guess the current version of Alpha 2 is 2.3 uh which which is really good it's really good for monomers um and that's about it so Alpha fold 3 came out and it does you know small molecules ntic acids co-actors it's really great but um they were distracted by the pursuit of money so it's not open source um okay I mean they have a nice server but like you you can't predict thousands of structures on demand for any analysis you want to do by like pinging their server or running some script to scrape the web page and make inputs for you so um so instead of "
    },
    {
        "start": 2286.4,
        "text": "that I kind of reimplemented something that also came out around the same time which is a wait Alpha fill so Alpha fill is also a web server available with a lot of pre-generated alpha fold structures with co-actors so I definitely would check that out they do the same thing they basically look for the pdb align it to a structure trans the co-actor and then minimize it in a force field so we do the I do the exact same thing here I'm just using a different force field because Charlie is one of the biggest developers of charm so charm is a molecular mechanics package uh so basically if you know any it's like Amber open mm charm grx anything for simulating proteins for like you know I guess long long time skills on like supercomputers that's the type of uh I guess tool it is charm is really great um but it was written Fortran uh which "
    },
    {
        "start": 2348.76,
        "text": "sucks so uh you know something cool that we're working on so openmm has a python interface is really nice uh our lab is also working on a kind of interface for charm in Python so you could see like hey I could do some pretty cool stuff with some python looking commands like set up absolute harmonic restraints on the protein backbone with a specific Force constant so what that means is you're setting up Springs on each atom in the protein to kind of hold it still because we kind of want to minimize the co-actor into the protein uh there's previous steps for Min minimizing side chains but the main step is putting the co-actor in there so then what we do is we minimize and run uh so there's two types of minimization that are commonly seen in charm we have steepest descent which is just really good for just spitting out an answer really fast and then there's a fancier minimization called adopted B basis newon raason I "
    },
    {
        "start": 2412.599,
        "text": "don't know but it's a slightly fancier optimization method that you know calculates a few more derivatives or I don't know like um and so basically that's all pretty cool and you could do it in a cell and then then same way uh Alpha fold spits out a confidence value uh this doesn't have a confidence value molecular mechanics force fields what they try to do sp out an energy term that you can basically or it's a potential that you can differentiate to get forces to move your protein around so it already comes with an energy function so we could just look at the interaction energy between in vacuum between the alpha F two structures and co-actor and the red line is like the interaction energy I got from a crystal structure so most of them are pretty on par actually tighter binder St ad according to the APO prediction from alpha fold which might not necessarily "
    },
    {
        "start": 2473.04,
        "text": "be true but it's not bad to see this so that's great to see um so if you're interested specifically because there is a really huge barrier to entry with molecular mechanics because it's kind of like you have machine learning and then mechanics is molecular mechanics is kind of doing its own thing and most people don't use them together uh like Alpha fold giant machine learning pipeline uh at the end they just minimize an Amber um you know that and you could there's the Amber minimization and that's all they use it for but molecular mechanics is a lot more than just minimization in basic MD it's about like force fields it's about forces and docking and prediction of binding poses and sampling dynamics of proteins and it's pretty good at that it's been good at that for 50 years so if you're interested in that that's kind of a dive in its own but there is a really good pie charm Workshop repo in "
    },
    {
        "start": 2533.72,
        "text": "the Rooks research group repo so if you really want to get into like hey I want to do free energy methods you can jump into there but this is kind of like pretend like this is the iceberg minimization is just like you what you can see and then there's all the other stuff you can do uh so yeah so another really cool thing uh we also have our own docking tool and charm um called fft dock it's a pretty fast rigid receptor docking method so I guess for context dip dock the inference time is like 40 seconds and the performance on their training spit in the pdb bind was like 40% um less than two angster Army for the first posst something like that um which isn't bad but you know we're interested in sterochemistry and activity and um dto doesn't really care if my substrate has a hydroxy group sticking in a different "
    },
    {
        "start": 2596.8,
        "text": "part of the structure because it's kind of just trained on a bunch of just data to spit out a model and it might learn that sterochemistry is important but like a force field will definitely tell you hey the ligan doesn't sit that way because it's on top of some atoms and the energies are crazy so that's why um you know if you I think if you look at the paper for fftt do uh it's like 60 70% performance for uh using the known Lian confirmer in the hollow structure which is is decent so but you know obviously that's not the APO structure that we don't know the true Lian bound POS so the point of this script is just to pick a random confirmer do fast rigid receptor docking generate some initial placements for some Downstream minimization in uh the next script which "
    },
    {
        "start": 2659.16,
        "text": "so we're going to minimize it in the force field so we can get like rescored poses and then so you can run that if you're interested also on CPU the fft do example requires a GPU so you can see here number of GPU devices I'm using a 1080 so it doesn't require a lot of resources because the 1080 is pretty old um yeah and what what fft dog actually does it basically spins around the confirmer you give it in every not every possible but like a finite number of different Pion that represent different rotations around a sphere so the number of orientations in this particular Pion file is 36,000 which is I guess a lot so that's a lot of poses and you're like okay how do you how can you score all of them really quickly with the molecular mechanics force field so that's where the uh GPU part comes in it uses the Q fft library "
    },
    {
        "start": 2721.319,
        "text": "from Huda and it uses grids of the protein so you and this grids of the protein and ligan and uh one thing you can do with grids or um you can convolve them really fast and in parallel so you can evaluate each of those possible different um ways to convolve that image as it yeah I guess yeah that's something you can use you can use it to find matching part of an image really fast so this is the same thing we're just putting in approximate grid potential that kind of represent the full atom force field but not really so it's kind of like a rough fast plac but it takes about um I would say takes about five seconds the grid generation takes a little longer but this is actually really fast so it's a really nice tool to have the problem is it's just a little difficult to set up because charm by itself is difficult to run so I would just look at this get inspired by this "
    },
    {
        "start": 2783.48,
        "text": "and say hey there's tons of molecular mechanic stocking tools like you know Auto dog me is great um and outperforms dip dog but you know maybe I should look into that when you're thinking about which docking tool you want to use for modeling your system uh so the next thing is yeah so F of do we're basically convolving grid representations of the electrostatic and Leonard Jan potentials so you don't get all the fancy charm force field terms like dihedral angles and side chain torsions and U bonded terms so we can get that by just taking those poses and minimizing it because the hard part in docking is kind of the generative problem because cartisian space is huge um so this is kind of like a workr since we already know the binding site we could just explore a sphere centered on like well it's not a sphere you just slide the LI across the entire grid that "
    },
    {
        "start": 2845.48,
        "text": "you choose is like the bounding box so your binding site and then we take those initial guesses for the energies pick the best 500 and then minimize those top 500 so uh it's kind of like rescoring them so if you see a paper like there's a lot of papers coming out about hey we use autod dova and we did some consensus machine learning rescoring and you're like I don't know what that means so all that means is you take the predictions from autod do run an ml tool on it to predict the bonding affinity and then use that as part of the score so this is the same thing it's not very complicated it's just evaluating it in a different um with more resolution so which is what force fields are really great at so next up so we have this 500 poses we're just going to Cluster them so basically any unique Lian poses represented by a cluster that's like hey out of these 500 these were within some "
    },
    {
        "start": 2906.28,
        "text": "arms the distance cut off to it so technically this all these different minimized poses kind of represents the same cluster and if we take like a representative out of it that representative has this particular score so we'll just say hey the cluster has that score because I'm clustering by one angstrom RSD so most of the structures like we can look the average energy you know sometimes F50 doc puts atoms on top of each other like really close uh so you know we're only really concerned with hey a lot of poses found the same orientation and and if we try to assign that orientation to score we'll just assign it the score which is from the best score in that cluster so that way we can break it down into a different problem now we have 500 poses and it's kind of like an ensemble you're like each pose "
    },
    {
        "start": 2968.24,
        "text": "has a energy and a particular orientation and now we want to figure out hey how can I um yeah so now we can represent unique individual clusters so instead of 500 poses now you're dealing with hey let me use the top 10 clusters or the top five clusters and do stuff with those poses so that's why clustering is really useful uh the next thing is now uh we're done with the molecular mechanics part we did structure prediction we did adding a co-actor we did docking with initial placements we refined it in a force field and then what we did is cluster them so now we have some like some list of top five uh top five clusters and their Associated energy and an Associated POS that repres res that cluster so the next thing is um for each "
    },
    {
        "start": 3031.68,
        "text": "of those clusters I'm going to take that representative pose and I'm going to try to figure out is it sitting uh which face is being presented towards the co-actor so you can mess around with some you know distances so in this script what it does is you can represent the plane of the LI so if we pretend like the Li docks into the protein and the co-actors right here so if you get the normal or if you get the plane of that Li that basically is the face and then if you get the normal Vector it tells you where's that face pointing because if you flip a plane that makes the normal Vector just go the other way so that's the point of the script is uh I just happen to pick an arrangement of three atoms on the Li and generate a plane from that and uh the normal Vector for this particular plane is pointing "
    },
    {
        "start": 3093.16,
        "text": "this way uh and in this particular example just the way that it is that happens to be the r face being presented to the f8 co-actor so that's why in this script after you kind of label each cluster so you have a bunch of energies you have a bunch of counts and you have a bunch of uh labels and there's like a fancy thing in statch which is like um macro States so you have Micro States and each micro state is the 500 different poses the macro state is the cluster and then you can figure out the kind of relative probability of each cluster so that's the whole point you could honestly just take the top one cluster this is just in cases where the energy difference is really close so if you take the top one uh it's going to give you you know maybe it's R and that other cluster is like "
    },
    {
        "start": 3153.28,
        "text": "maybe like a KP per or like half K Cal per mole less and you know it does s so technically you have evidence that this enzyme is reic and maybe you should label it as 50/50 um so that way if you do the macro State stuff you can assign based off the energy differences the probabilities to each Macro state and say hey all of the r macro states have these probabilities all of the S macro states have these probabilities what's the probability of it being RS and then in this particular case this is trophy um the reason that this sequence or structure is always being modeled in all these scripts is because if you read about um you know most of the work between the Brooks andion lab about these enzymes tro is the most common one that we study because we have crystal structure we've done flexible docking we've done qmmm so there's tons of stuff "
    },
    {
        "start": 3214.48,
        "text": "you can read about and compare with like the actual known bound pose if you're interested in seeing how well docking tools recapitulate kind of um you know the final bound pose without further molecular Dynamics but in this particular case because we knew the binding site we restored the top poses with some information that we have about the system we get a pretty reason accuracy in labeling the stereochemistry of each of these enzymes because if you think about it um even before we do any analysis so we know that we have 60 enzymes and there is a switch from one mutation P pel alanine to Tire scene and you might be like that should be pretty easy to capture with the molecular mechanics force field it's a switch of one atom you you go from hydrogen bonding you have a huge uh electrostatic interaction "
    },
    {
        "start": 3275.68,
        "text": "between the anion of the substrate uh which is not neutral it's actually negative at this pH so actually strongly interacts with that one residue so it's kind of pretty obvious that if you take a bunch of structures and most of those structures just have that one atom difference and all the other residues are different that you should see a pattern emerge naturally from the force field so you know if we just focus on those 60 enzymes that we had the most information about those 60 enzymes are sitting on the bottom here uh and each row is numbered by a bold number and the Bold number represents a different substrate most of the time these enzymes are the same across the substrate so like for example this enzyme as a h is one of the exent enzymes tropy is the one that's well modeled um I guess it's supposed to be R I guess it's here but essentially "
    },
    {
        "start": 3337.4,
        "text": "as H this enzyme does the blue box with each liing and then you might ask well what is this blue box why are they boxes well um blue means it does r that's what Chad s going to sell iate um and then gray box means means it was dead and a yellow box means it did s and there's some green boxes here that mean Ric we're just going to think about this as a binary problem because it doesn't really appear that often so this is the data that Chad saw on his paper and based off this data he was able to make some conclusions and prove that a particular residue flips the stereo chemistry and is the dominant residue that controls stereo chemistry oh oh okay cool oh dang all right I'm gonna all right we'll start skipping around okay so basically if you read the paper if "
    },
    {
        "start": 3399.319,
        "text": "you align all these squares it's about 70% accurate so but I have them in in the SI there's like lots of stuff about that like different accuracies for different docking parameters and you can mess around with stuff but then the nice thing is hey because it's high through putut well let's just fill in everything and instead of just 60 why don't we fill in all a thousand and that's what you could do I'm going to skip reactivity so you can also do the same assign label reactivity that was all for assigning the St chemistry label as basically zero or one okay so basically uh if we skip reactivity so this one is for generating the MSA for training the machine learning model this next one is taking that MSA taking all of those RS labels predicted from the docking results and training a model to map 800 uh sequences represented by 1 to 200 "
    },
    {
        "start": 3463.2,
        "text": "MSA columns because after filtering out the ones that have gaps and are kind of not in The Binding side or second sphere um that's kind of the data set that you're working with and take those 200 columns predict if it does Sr and this is a little bit you might be interested in this because this is an automl implementation um so what it does is it actually runs like 30 models for you at the same time it takes like an hour so it's really cool I would check it out uh and then we could do shap and then you know if you dive into shap there's dependence plots so this particular feature is the column that represents the residue that controls that stereochemistry with that one atom change between phenol alanine and tyrosine so the nice thing is I could just send this plot to Chad and be like hey it looks like pheny alanine negative means it's more s because I I set s to negative one because it was negative one "
    },
    {
        "start": 3524.48,
        "text": "for S zero for AIC one for R so negative means s positive means R and it's pretty easy to see like hey maybe you should mutate that one residue and and uh you can do that for a lot of residues and you can just label how important they are because shap tells you how important each feature is and you can make any of these plots so these are the labeled residues here there's some discussion in the paper how they actually relate to experimental residues and we could do the same thing we can predict which ones are important for your activity some of them overlap some of them are different one important like so an example of how you can use this tell an experimental collab rator um something to try is like hey we can look at M54 we could generate this figure we could send it to him ask did it do anything if it did then we discovered a novel residue for controlling the reactivity of an enzyme um and then we could do that for all for 10 or we could do it for 100 the "
    },
    {
        "start": 3586.64,
        "text": "nice thing is you could do it for as much as you want because uh you could just add more sequences you could predict mutations you can plug in any variant you want and predict the structure of it and slide it in with the rest of the sequences in the MSA so it's a really useful prediction tool as well okay so I guess yeah perfect time so kind of that is the main summary of the first part was just Concepts Concepts you might be interested in or heard of if you're looking in this like particular field because it's a really fast changing field um because it was if you think about a 2022 Alpha fold and then we have diff then we have Alpha fold 3 then we have collab fold there's like so many things going on it's really cool so I recommend just just perusing like just looking at these words so when you read a paper in the future you be like yeah I I know what what docking does I know what rescoring in a force field does and so I think that's the great part is you "
    },
    {
        "start": 3647.44,
        "text": "could just look at the code get the concepts and have a better understanding of what these tools actually look like which I think is a big barrier in kind of science communication is like every time they present Alpha fold it's this super highle Concepts but we kind of just want to know how do I run it and why do I care and that's the point each slide was about why you could care about any of those particular Fields uh so I guess I don't have time for this but this is in kind of a collaboration with Chad and the N group I'm actually testing some mutations experimentally from this Pipeline and and we could see like uh basically I tested some experimentally in cell iate and found a bunch of mutations that so they're colored green so all these green ones here are new and in the second sphere so um traditional approaches have a really hard time going outside The Binding site so it's nice that I have "
    },
    {
        "start": 3709.0,
        "text": "some initial experimental evidence uh because for example these mutations make this enzyme more active towards R same thing for this guy this guy makes it slightly less activity but way more selective and this one revise activity so there's there's a set of pretty cool mutations uh I will have to spend several months purifying the enzymes so that's why it's in preparation but I think it's really cool that there's some evidence that um all the stuff I did uh it doesn't have to be just computational it could lead to some experimental collaboration you could any that you want um and so yeah that's the summary so the goal of this talk was to talk about tools and technology and high throughput machine learning and molecular Mechanics for protein modeling um current approaches are making modeling more and more accessible um so nowadays I think all of us should be at least somewhat familiar "
    },
    {
        "start": 3770.52,
        "text": "with I can you know go on Alpha 3's website and predict the structure and then there's just a whole Spectrum sorry there's a whole Spectrum beyond that and this is part of the spectrum so the goal of this paper was talking about how we can combine all of these different approaches make some tiny adjustments to them because of the domain knowledge of the system I have but adjustments that you can make based off domain knowledge of the protein system that you're studying um because each part is from a generalized technique that has like pretty rigorous um so it's based on force fields which have a 50-year history docking has like a 30-year history um structure prediction you know how many it's like the 15th cast competition going on so none of these are like crazy deviations from what the central concepts are in each of these different tools uh and yeah everything's Open Access a code data paper um you don't even need to log in to read the paper it's open access so "
    },
    {
        "start": 3833.92,
        "text": "um yeah acknowledgements uh this this a really fun project I need to acknowledge my Pi cuz he was the main reason why I did all this stuff he kept asking why are you doing that and I'm like it's a good question um and then Chad because you know the whole reason this started was because Chad did that original ancestral work and asked me hey can you model one of these structures for me and help me make a figure I was like yeah and it turned into this so that was fun but I think that's kind of like the PHD experience is you join a lab your Pi tells you in your first year hey you want to try this project and then five years later you're still working on it so I think it's a common experience um and then a big shout out to Allison because I've basically been working in her lab for a year making all these mutations and then Troy for the original ancestral SE construction work um but yeah like thank you for your time I think this was oh okay "
    },
    {
        "start": 3900.52,
        "text": "are over already so I think take any questions offline yeah if like um is this room being used for anything okay okay I mean available to stay and yeah I mean if there's anyone who like wants to try something and since I'm here it would be easier you can ask if if not then the slides will be a pdf online so and there will be a video so should be accessible whenever you want "
    }
]