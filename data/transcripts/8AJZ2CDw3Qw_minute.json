[
    {
        "start": 0.0,
        "text": "this is the tools and technology seminar series it's basically just a venue to talk about two of those technologies methodologies algorithms whatever that sometimes they are in development so it doesn't have to be a finished product other times there are you know completed projects or different versions of projects or tools and sometimes stuff that's been around for a long time that's just of interest to researchers so today I'm pleased to prevent Chris Clark who is a developer in the School of Public Health I believe in biostatistics oh yeah and there's a sign-in sheet we're gonna pass it around hi everybody so yeah my name is Chris Clark I work in the School of Public Health and today I'm gonna be talking about Lucas zoom is it has anybody here ever heard the term locus zoom before okay it's a couple people yeah apparently this I mean this is the thing that has existed well before I got here "
    },
    {
        "start": 62.129,
        "text": "I've been with the School of Public Health for a little over a year now and I come from a development background not a research background so there's probably a heck of a lot more knowledge about the actual research in this room and I have in my head way more so you guys could probably teach me a lot of things about that but I'm gonna do my best to talk about also at any point during the talk I have this poster because I'm just fresh coming back from ASHG and this is a poster also talking about locus in GIS that we took out there and a lot of the graphics on there are gonna be present here in the talk too so that's the little supplementary thing so in a nutshell locust to me is is visual interactive plotting of gos results well what is that first of all let's let's back things up much further to what is the problem we're trying to solve I know at least one familiar face here who has seen this before I always like to throw this out as the zeroth question of programming at any point if you're programming anything some programming that's how I think this is "
    },
    {
        "start": 122.61,
        "text": "the most important question to be asking and if you're not asking this question you're probably lost in the weeds or you're too focused on a solution so what is the problem we're trying to solve what are we even doing here well texe got a little small but okay so the problem in general is interpreting jiwa signals requires context now I overheard before we got started here that you guys been doing this for a while and it was only a couple weeks ago that somebody really started talking about what would you uh semen was so I'll do a quick overview of that as far as I know which I'm no expert again jiwon stands for genome-wide Association study and basically what it is from a data standpoint is it's a whole lot of P values and those P values are mapped to single variants throughout the genome and those P values obviously represent some kind of a some kind of a signal for some effect that we're studying variant makes this happen etc and that requires "
    },
    {
        "start": 183.18,
        "text": "context there's so much context because genetics study is stuff complicated you know I'm looking at this one variant this maybe it's a single nucleotide polymorphism so it's just like you know this ain't urns into a T and I know that happens to happen at this exact spot in the genome but maybe I also need to know what genes are present there maybe I need to know what histones are present there maybe I need to know what variant is affected for other phenotypes that we've studied which may have a completely different set of p-values that context is important to understand why if this p-value is high what that actually means and so context comes from arbitrarily many data sources and entre being the operative word here because you know yes you may have a reference panel that says what your or your genes are but you may be pulling in data from all kinds of places maybe you're looking at how you know 15 pathways work in different cell types I mean there is literally an exponential amount of data "
    },
    {
        "start": 243.18,
        "text": "that grows at an exponential rate over time as there are so many groups like this one and my group and then all the other schools around the world who are doing research on this stuff and all the pharmaceutical industry there is so much data and it's all flooding out to the internet and that is all useful context how do you integrate it that's tough so completing all of that together is hard and then navigating around that stuff is hard that's what we're trying to solve with this so it's a big ask but the original approach started 2010 and this is the locus zoom that the few of you that raised your hands may be familiar with this is an R and Python package that is open source when you download it if you want to run it locally you download it with that data it comes packaged with it and so on the lower end that could be a download of 4.3 gigabytes not small um I and gigabytes which actually off the high end if we're calling that a complete dataset that's "
    },
    {
        "start": 303.18,
        "text": "pretty small today considering that we're studying the human genome and all of the biological ways that the human genome can possibly do anything ten gigs is nothing so it's complete but there's so much more data out there that we're not getting included and finally when we're running this on the command line we're gonna generate a stat plot that gives us a visualization of our association signal in a region of the genome and this is what it looks like all dark that's too bad essentially we have all of our people use as little box on a scatter plot here's our little Association peak you can see we have negative log 10 p-value over here so this is a 10 which you know jiwa significance is usually around 8 statistical significance is usually around 5 and so that's a signal that tells us something coloring is usually "
    },
    {
        "start": 363.18,
        "text": "based on linkage disequilibrium how often genes or sorry variants are passed down along with each other and then for some context we have seen genes down here so here is this particular variant catalogued by it's RS number and is to be inside this gene and that tells us something interesting and this is the kind of thing that would appear in a publication this is this is currency for publishing results so loga soon has been used quite a bit for publishing these kinds of things in 2011 it was spawned into a web service where people could upload full data sets so you have to come to the table with your entire data set you have to push that over the web which right there is a limitation on just how much you can do with this data service because you obviously can't upload a multiple terabyte data set and again you're just writing static plots so if you are if you read it looks good but there might be something right over here because as we know in studying genetics "
    },
    {
        "start": 426.13,
        "text": "you know stuff that is neighboring usually has something to do with what you're studying not always but again and it's important to look at that broader context and if you're generating a set well you need to know what regions you want to look at up front so when you upload your data you have to specify I want look at this region or I want to look at this set of regions and specifying that region is not just I want to look right here but I want to look right here and I want to look at this scale maybe you're looking at a few kilobases maybe you're looking at a few mega bases if anyone here is not really familiar with looking at genetic data in terms of regions in the genome you know it's three billion base pairs long and the analogy that I use is Google Maps we've all used Google Maps and you know if I was looking at a few kilobases maybe I'm just looking at my neighborhood if I'm looking at a few mega bases maybe I'm looking at my whole city out to my whole country and what I'm looking at at those scales tells me different things I can see different geographical elements and I can learn different things about same with the "
    },
    {
        "start": 486.94,
        "text": "genome especially when we're looking at Association data that may have Peaks that you know spider out really far across the whole chromosome which is gigantic so you have to be regions upfront and if you guess wrong you simply won't see something that maybe you should be seeing so after the portal the pool is this this right here which is the genetics portal this was a grant that School of Public Health or my group the Center for statistical genetics in the School of Public Health gone on along with a bunch of other folks Broad Institute out at MIT big thing with the accelerating medicines partnership lots of three-letter acronyms and the with these guys trying to solve is we want to build a web portal that will aggregate data for the study of type 2 diabetes specifically genetic data for the study of type 2 diabetes and when they were putting this together you know they "
    },
    {
        "start": 547.62,
        "text": "looked to our group and they said all right you guys have this tool locus zoom and this is really valuable you know we want to be able to see these local regional results across multiple jiwa size I mean there there are several dozen new off studies loaded in here but the portal is built for arbitrarily many juwes results data sets over time and so they have whole teams of people at the pros that are out there courting other institutions that have jia state is saying hey bring your data into the portal we want data for all kinds of different phenotypes and cell lines so that we can study all kinds of things techies and related phenotypes so lots of data that will continue to grow this is not as a moving target so they want to look assumed in here and if anyone here has worked with AHA to do some graphing and anyone has worked on the web there are some shims in there that can make you kind of do that but really it's kind of like using a hammer to unscrew a screw that doesn't really make "
    },
    {
        "start": 607.8,
        "text": "a lot of sense you just use a screwdriver so the idea was you know what we need to build we need to rebuild locust oome through the web specifically for interactive plots where people can actually start to navigate around these data sets and take a more exploratory approach where they don't have to know what they're looking for upfront and they can discover maybe some interesting things so that's the new approach starting in 2015 and thankfully that grant funding made some people for it that's where I came from so the FDA is here we want something that is embeddable and web application same problem that we're trying to solve with the original locus in that I said that earlier slide same problem but now the message is different so in a web application is important if you stream from EAP is on request that's also important because as we said originally with that problem we're trying to solve is that context requires arbitrarily many data sets the number of data sets can grow over time the data sets themselves may be huge and they factored in different ways and you know "
    },
    {
        "start": 668.35,
        "text": "we shouldn't have to load an entire G wash dataset to look at one region as if you're loading say the entire Google map down to neighborhood level when you're just looking at your neighborhood that doesn't make sense especially in a web context so we need to request pieces of data and stream that and aggregate it together into a visualization song interactivity because again I don't know what kind of regions I don't want to look at maybe I don't want to just cruise around the genome a little bit and see what stuff is nearby and add different phenotypes remove stuff change things around needs to be interactive and the primary focus is of course on the exploration of data so static plots for publication is a nice to have but no longer require something that is purely interactive we're designing for pixels not for print so here's our low consume qua this is actually supposed to be an animated gif and it's not animating so that's ok we're gonna do it we got all kinds of live demos at the end of this presentation so you'll see it in action here because look we zoom is functional right now it has been for some time and "
    },
    {
        "start": 729.61,
        "text": "has been deployed to a few different places as you can see it's pretty much the same right we have association with all these the scatter plot of different p-values with little peaks and stuff and we have our genes and that is our basic building block of context and of course there's much more data we can keep on top of that so there we go um approach this is just tools that we decided to go to so primary language being JavaScript lingua franca of the web graph library is d3 is a fantastic graphing library in JavaScript everything that it does is in SVG which is scalable vector graphics it's actually a format that's been around for a long time it's been around since the make the spec started getting written in the late 80s so this is not a new format but d3 is a very low-level graphing library it it's not the kind of thing you will use to say I want to make a "
    },
    {
        "start": 791.5,
        "text": "scatterplot mean you can but 3 is much lower level than that where you can essentially Dom elements in your page to data and do fancy things with that lots of interactivity and then of course is the web browser which means HTML and CSS are also coming along for the right and area what does you mean image form is if it's interactive and as we do that image out there make it work so good question so the question was if SVG is an image format which it is how do we make it interactive well SVG as an image form it's not a binary image format so JPEG paying all these things well actually thing can go both ways but JPEG as an example is a binary image format where your data is sorted and it's Fiji and here's an example this being built G is the actual data looks a lot like "
    },
    {
        "start": 854.84,
        "text": "HTML in fact it's possible by web browsers as HTML it's in that markup language universe so it also plays nice you can also describe it as XML XML is a superset of all these things so SVG technically is XML and so what that means is it can be rendered out to pixels on a screen and it can be rendered most most graphics programs that will work with vector formats so you know Adobe Illustrator is a good example I believe you PowerPoint will render SVG as well the way that it's actually stored is as text as tags and so this there's a tag that says this is a circle and the circle is position here and its color is red and that's how that is rendered instead of individual pixels that make up that circle and so as a result SVG can be interactive when it's inside the browser because it's built with dom elements that you can attach "
    },
    {
        "start": 916.4,
        "text": "javascript hooks to and that you can use query selectors if you've ever used jQuery or anything like that and you write the little string that says you know select these you could do that with individual elements inside the SVG so it kind of works both ways does that answer your question sort of though HTML it's you can't think of SVG as HTML they're very very similar but SVG is sort of a special set of tags that will be rendered by a browser that's also rendering HTML but renders graphically and thus can be made interactive or can be exported to another format as a static image so so here's here's an example of what we're gonna build it's just gonna kind of step through the architecture the architectural approach to making a locus "
    },
    {
        "start": 976.43,
        "text": "zoom plot real quick and then we'll dive into some live demo so you can actually see how it works and if you guys have any questions any point feel free to just shoot them out so here's the actual SVG architecture and it's still a little dim but you know take the same view you know we have this thing let's call this a panel and let's call this a panel so this is a panel of Association data there's a panel of gene data and then it's panel we want to do some weathering because if you look closely here we have this little line this this line here that's actually a recombination rate information which will give you a wrong definition of what recombination rate is all you know is it can be represented as a noisy life and it's important it's important to see in context because it's digital data that we're able to see in regional context and here at chromosome 8 between you know it's it's addressing on the x-axis it's like a one dimensional address "
    },
    {
        "start": 1037.54,
        "text": "we're going across that three billion base pairs and we're looking at a very specific you know nineteen point seven million the nineteen point seven million base pair to the twenty point one millionth base pair on chromosome eight that's we're looking at right here and recombination rate is just that is very important when we're looking at graphs like this and so we want to show that to so you know it's just ship superimposed on top of each other so we have panels and then within panels we have different layers we're gonna call them and those are kind of stacked z-index on top of each other and that's what we get here you know if you can kind of you know wrap your mind around the 3d explosion here you know here's our gene tracks panel and then here's a Association panel with our two layers and so our panels go wide down the page and our data layers go Z into the page and that gives us a lot of flexibility for showing a lot of data by the way Logan zoom is built with abstraction in mind we don't know what all data we're "
    },
    {
        "start": 1098.279,
        "text": "gonna want to to look at and and potentially display and we want the ability to spin up new data layers for looking at new data as it gets discovered as it gets aggregated so so look assume is really a platform for doing that two big pieces need to come into play to actually make a work one is data sources data sources are JavaScript functions that locus soon where the data is coming from and we design some things some name spacing so that you can pull data from arbitrarily many places and they can have collisions you know most data that we're looking at is going to be data that you could make CSV you know just kind of column based data where here my column names and then here's my rows of data sometimes the data might be a little bit more like a JSON object with a lot of structure to it we want to support all of that and sometimes say two endpoints might have the same data or very similar looking data with similar column names and everything we "
    },
    {
        "start": 1159.119,
        "text": "want to make sure those don't collide so there's some name spacing that goes on here there's a lot of built-in functions for pulling down data and sort of predicted formats but the whole thing's design and there's extensive documentation or have to do this so you can design your own data source if you have your own endpoint that's able to serve data you can write your own JavaScript function make it go so client-side so even if it was an open source it effectively is anybody can hack hack the hell out of this thing and make it work for them the other key element is a layout object layout object is a JSON object that describes how the plot actually looks all the way down to basic stuff like dimensions your width and your Heights I'm down into you know here's my data layers and I want this to be a scatter type data layer I want that to be a line type data layer and add some colors and this and that interactivity is defined in your lamp but the nice thing about layouts is they are JSON objects true JSON which means they are serializable and portable and that was a big thing "
    },
    {
        "start": 1219.67,
        "text": "because we wanted locus zoom to create these shareable plots where Here I am and I want to share my data with somebody in Germany and I want him to be able to drop will consume directly in place on his own web app drop the same place see exactly what I see and then we can collaborate on oh and just do science it's so the last step is of course a little just one line to put it all together and so we call populate we give it one of those Dom query strings it says fill it in this element and then we get an interactive plot it's just that simple ah yes so looks like you sort of in bending some kind of a grammar that has these types and you know what kind of marks you're gonna put on your SVG you guys can see reusing might combine by the light for that they're like pretty widely used grammar specifications too "
    },
    {
        "start": 1279.76,
        "text": "they will give three possible that you can same idea but it is already like a step of well-established grammar for that that's pretty new to me so they goes what it's called yeah I'm not familiar with that I'm gonna have to take a look at that it comes out from the same lab that gifted d3 okay stem for visualization of the raw food so they basically they develop these big grammar that pre defines plots descriptions of the positive part are superb i III so you just need to define exactly to define your type tool to define like what how many variables you have even have layering they have interview interactivity you can say you can actually say all events I'm gonna have to look into that okay yeah there have definitely been a few places cuz you know we're building this "
    },
    {
        "start": 1340.11,
        "text": "for you know it's it's a trade-off especially as a developer you know trying to build something that is heavily abstracted to do just about anything to something that's a little more purpose-built you know narrative narrowing that focus a little bit and making it work for regional genetic Association studies and so there are a few places where you know taking a standard that d3 has built in we had to sort of deviate from that path a little bit and be like you know this is this doesn't exactly fit our use case really good example is d3 has some syntactic sugar for creating zooming and zooming is a very important piece and I'm gonna pull it up I mean it's right there in the name look isn't right and so we wanted Summa that's you know hook to the mouse wheel or whatever and we only want zooming on the x-axis and we want that to trigger events to do redrawing just based on filled in and "
    },
    {
        "start": 1402.36,
        "text": "the stock d3 zooming we actually kind of had to reverse engineer it and develop our own because there was simply no way we could make it work it was trying to do too much so but that is interesting I'm gonna look at Vega and and yeah I mean we want to make this as standards-compliant as possible we want to make it as you know use as many existing frameworks that already have a large base of users and developers and documentation so that's that much less documentation we have to write but unfortunately we can't do that everywhere so cool see that's the big confusing graph that shows how low consume get set up so one more thing is and I've talked about this a little bit you know everything is customizable or in theory it is so you know this just shows a little preview of syntax for hey you know I have data in some weird new format and it's data that has never been shown on a regional Association plot before but I can think of a way that it in there you know we've provided some "
    },
    {
        "start": 1463.89,
        "text": "API hooks so that it is in theory practical and straightforward to your own data source for your specific special snowflake data likewise for rendering that data and all the way down to interactivity you know accustomed data layers is also something we've provided a lot of API hooks for where things are abstracted and ideally you can you know develop a lot of custom things especially if you know some JavaScript especially if you know some d3 you can sort of utilize a bunch of the framework that's already there in locust zoom to sort of get further that much faster you know start with what we've already built and take it even further so it's hosted on github locust oom MIT license you know we wanted to go for the the most liberal one we could find we have comprehensive documentation that we're trying to update all the time and we also have a "
    },
    {
        "start": 1523.98,
        "text": "CDN for it all that stuff is up there so now the MIT license I actually selected that license personally because I asked my group from the very beginning I said I don't want this open-source right from the get-go do you guys have a preference on license and they said no so I got to choose and I chose MIT because MIT is in my opinion one of the most liberal licenses you know that it covers commercial use and everything it's it's much more liberal than something than a copyleft type license different organizations have made licenses under what circumstances you may use code can you redistribute that all those kind of things they just it's just a model for a license yeah yeah and and you know we "
    },
    {
        "start": 1586.529,
        "text": "could really go down the rabbit hole on open-source licenses because there are so many different ones and you know different ones have different level what you can and can't do and what kind of restrictions they put on you if you're going to use this code in something else and MIT I just chose which you know even if you go look up and read some of the some of the thoughts on MIT it's it's even coming this nowhere and MIT doesn't even want to call them IT anymore because they have so many different licenses in play but that particular license is particularly liberal where anybody can take locus ejs and you know spin it up in a commercial product fine go for it I mean we want you to do that really all the MIT license says is give us a donation did you do that so and I believe so if you want to play with it which I'm actually gonna bring up right now so we can start checking things out and yeah that's a big question let me "
    },
    {
        "start": 1655.769,
        "text": "see if I can answer that in the course of the lab demos you know I'd be happy to pull up some some code samples as well okay so everybody see that okay great so the main listing website you know it's important at least I we decided it was very important to preserve the original locus zoom because locus zoom j/s is not a replacement for the original oak assume it is you know another solution to the same problem but also some other problems in that space basically you know making a web base and everything for you know so many people still rely on the original oak assume there is really the these things are meant to complement each other not to replace so so we still have all the original stuff there where you know you can get your single plots and you have "
    },
    {
        "start": 1715.83,
        "text": "to know where you want to look we have our one interactive plot here so right now we only have it where it's data that we have available for you because the new logos in Dias is really designed for hitting an API where I'm going to request you know data from this data set in this region give me just that back and you know there are ways to make it work on data that people upload but you know that's still very much a work in progress because taking a giant data set and turning it into an API is not a trivial task so this is only showing published some selected published u.s. results then we have loaded in a database on our back-end with a web server front-end to serve that as an API so let's just choose any old one it doesn't matter first one there and here is our local search box this is what the painting and zooming looks like of course you know pinning around more data comes in you can see we're just going to different "
    },
    {
        "start": 1776.64,
        "text": "parts of the chromosome they're zooming with the mouse wheel we can zoom out a little bit we can zoom in and that's that's the basics of the interactivity but there's also a lot of other pieces that have been folded in that I haven't really talked about yet for instance tool tips on data you know like looking at this gene here we're pulling gene constraint information from X AK which was a request by the broad folks they wanted to see gene constraint data and scroll that up some folks can see so you know they stood up an API on X AK where they're able to you know we make a request with a bunch of gene names and they give us back all of the extra the the constraint data for those genes so every time loci assume this this version of locus zoom the way it's configured every time we load a region you know we have I don't know how many genes there are here you know a dozen or so probably a little more than a dozen but you know we create just just as an "
    },
    {
        "start": 1839.58,
        "text": "example under the hood it's going to create a single request to X ax a hey I want the constraint information for these genes and it streams that into the tooltips based on how the tooltip is defined inside that layout object that big JSON object there's a thing in there for the genes data layer that says on every gene let's create a tooltip this is what we're gonna put in it we also had to define that data source that says hey go to X act to get constraint data so that's an example of all that in other words if you zoom way out yes yes so this is a fun problem that we're only just starting to scratch the surface of essentially right now locusts zoom what you can do is in the layout you can define a bounds for the zoom level a maximum and a minimum we have to do that because when we first drop zooming into place we realized oh I just have to you know twiddle my mouse wheel a little bit and suddenly I can "
    },
    {
        "start": 1900.6,
        "text": "crash everything because it's loading way too much data so the trick there is you know once you start zooming out far enough then you start to get into questions of thinning you want to bend this data together and stream less data down and that is a problem for the server side not the client side right unless you know you could make it a client side problem but you'd have to get all that data down across the net first which seems simply do it on the server and only push what's actually needed so we'll assume J s being a purely client-side library it's it's kind of a it gets to the Theriot territory of not my problem which is not a satisfactory solution so you know we're looking at how to do that on the backend just for you know the API we have running here because what we'd really like to do how many folks here have ever heard of a Manhattan plot yeah so for those of you who haven't a Manhattan plot is basically it looks a "
    },
    {
        "start": 1960.72,
        "text": "lot like this it's sort of you know a scatter plot showing association data but you're looking at the entire genome all three billion base pairs and it's called a man half Platt because it's usually or between two chromosomes which there are you know 21 plus depending on if you're including including the sex chromosomes so you'll have these columns essentially of these scatterplot dots and you'll see a little piece different places and to go back to my Google Maps analogy which I always come back to you know what zooming in and out here looking at a very small region on chromosome 16 I want to be able to keep zooming out get to the point where I'm looking at all the chromosome 16 and there's some effective bidding because chromosome 16 has you know I don't know how many million variants but more than I would want to load and try and display as individual circles in my SVG so I want to be able to seamlessly zoom out start doing that bidding again on the server side display that stuff and then go all the way out to a Manhattan plot to where I'm looking at the whole genome and effectively you get that Google Maps "
    },
    {
        "start": 2022.97,
        "text": "type interface where you can zoom from planet earth level down to your house that's what we want and obviously took Google a while to figure out how to do that really seamlessly they have a lot of tiling algorithms and stuff so you know we have a lot of work to do on the server side to make that happen but that is a goal for the coming year and I could see potentially some open sourcing of some server side companion libraries to help serve up Association data with that binning stuff sort of built in out of box yeah so let's see we did by the way because export for replication was a nice to have depending on who you talk to and a must we did include that so there is a little download image button and I could go into excruciating detail on the difficulties of making SVG on the web export nicely into an SVG that looks good in in any sort of publication and "
    },
    {
        "start": 2085.69,
        "text": "we did the hard work and it does that and it does look decent so it can be used for publication stuff so yeah this is low consume gorg I highly recommend you guys check it out and play with it but let me show you some other examples so the portal type 2 diabetes' portal which is at type 2 diabetes genetics org kind of a mouthful but this is free to use all you need is a Google account so the that that's the small barrier that they that they set up but otherwise it's completely free to use so in that I just pulled up tcf7l2 because that one has actually interesting type 2 diabetes' stuff and here is locus zoom in the portal this is an older version of locus oom because it's Road folks who are integrating it so they're always a few versions behind but it has a lot of the same features you saw before you know we have our tooltips showing us lots of information one of the nice things here and this is this is "
    },
    {
        "start": 2146.66,
        "text": "sort of this sort of gets to the level of interactivity that we really wanted with locus soon painting and zooming is great and that gives us some context but there's a lot more we can do than just panning and zooming so conditional analysis is a big one who here is familiar with conditional analysis in any form okay so if you so essentially what conditional analysis is is we're looking at a model right here there's a model that generates these p-values and conditional analysis is let's add some more pieces to that model see how the data changes so the poor man's conditional analysis is just making something the the LD reference so to give a quick overview of LD real quick LD being linkage disequilibrium basically we have a reference variance and we're gonna say we're gonna but let's color all the other p-values based on how likely they are to be inherited as a variant along with our reference variant so this red guy here he's very "
    },
    {
        "start": 2208.31,
        "text": "likely to be if you have this variant it's very likely you also have that Marian this stuff over here if you have this variant it's not very likely that you're gonna have that you might have that but you know it's not likely that this one and this one are gonna come together you know when people are reproducing so the poor man's conditional analysis is you can change your LD reference variant so I'll do that all the color is change and that's one very basic example of some interactivity some custom interactivity through with just like I think it was just like one line of JavaScript to make that go another example is let's say we're doing actual proper conditioning on this variant so what that means is we are going to add this very to our model which means this variant will no longer show up here and all the p-values are going to be he waited on the fly and we're gonna see all these things shift around so and click that button and they're probably all just going to drop off is usually what happens I've yet to find a really "
    },
    {
        "start": 2270.02,
        "text": "interesting conditional analysis but the idea here is that you know if you have two points let's say yeah they all dropped off but is that if you have two separate piece and you condition on one that one's gonna disappear everything shipped around if this peak stays there it means that these are independent signals however if this means that those two are actually and then signals are probably the same signal that's the use of conditional analysis which is very useful from a research perspective now that actual conditioning the actual math that's happening there that's happening on the back end with some very fancy stuff that some very smart people at the broad built to do that on the fly conditioning it's very very cutting edge type genetic research the logo zoom isn't actually doing that but there is simple arithmetic based you know analysis tools that can be done fully on "
    },
    {
        "start": 2331.76,
        "text": "the client-side we're very interested in adding those a big one that I'm familiar with is credible sets which is my understanding is you know show me which variants are you know sort of in a group based on some filters and that's something that we will be implementing in locust him in the next few months so development is very active here and there are a lot of opportunities there's there's really the sky's the limit on what we could potentially do with this thing also it is worth noting that you know every locus zoom example I've shown you so far has your basic Association panel in your genes panel but there's a lot more that can be done you know you can have arbitrarily many panels with data layers so here we can add another panel for bypass index the locus oom website that I showed you originally also does the same thing you can add arbitrarily many different studies stack them up and see how they compare this is not a particularly interesting datasets but you know I invite you to check it out and play around and see if you can find some interesting stuff "
    },
    {
        "start": 2392.41,
        "text": "so and maybe there's no biological reason to do this thing at the top plot and you to be the LD thing you selected one specific one and then you've got is there a way to say show me the red green and orange and filter out the rest of that guy I can't even see you like what's down in there all right yeah it's kind of mad so if we want to see what's down in here what I can do I can grab one of my tics and I can just kind of expand the range there to get a little more detail so you know we did add a lot of capability for for sort of playing with your data set that can't say show me p-values above or below certain values so in the current version of locus zoom you could but you'd have to program some custom stuff in the version of luke assume that will probably be released within the next week there will "
    },
    {
        "start": 2453.29,
        "text": "be a new feature that provides some api hooks to do that in one line of code so and that's that kind of gets back to that data filtering thing I was talking about so you know if I wanted to just identify all variants that had you know a specific field with a value that is you know that map's to some some arbitrary number of tests so you know maybe I want to set a minute of Max or maybe I want to do strict equality testing you know anything if I want to stack those up that's something that we have currently in code review right now so it's developed it's mostly working and its first pass at it so you know as end users actually use it and give us feedback hopefully we'll refine it make more powerful but yes good point that is something that that comes up a lot and we want to solve the abstract problem where I want to filter my data and I don't know how I want to I want to try try some novel interesting things we just want to yeah so this version of "
    },
    {
        "start": 2521.26,
        "text": "locus zoom is pre dynamic legend and dynamic legend was added I want to say about a month ago so here's our little dynamic legend there and so there's a whole there's a whole documented set of getting back to that grammar and the layout where you can you can define in a relatively short amount of lines in that JSON object how I want my legend to appear including making it automated based off of the data that I'm getting back in different ways which it's hard to automate based off of everything because you know a legend can show just about anything so there are some ways to do very simple legends in an automated way but there's also a lot of freedom to draw your legend however you want and so that's an example of the dynamic oh that's an interesting point so like what is the activity you'd like "
    },
    {
        "start": 2581.75,
        "text": "to see when I click on the red see the red I like that feature yeah so yeah data filtering branch that we have in development right now we could marry that to the dynamic Legend stuff pretty nicely and have some automated data filter yeah yeah and I will say that the as far as Mouse events the luke assume library does have a pretty robust set of of Mouse event an event hook syntax so you know there are API hooks to detect control click shift clicks all kinds of stuff mouse wheel scrolling etc so so yeah the tools are there we could probably prototype that pretty quickly ok or something yeah for "
    },
    {
        "start": 2648.86,
        "text": "interacting let's play how best to even approach that [Music] step 1 z wait else I guess I'll start with the documentation would probably be best so this is the documentation for the data layer stuff I like and select behavior tooltips etc there's legend labels it's the interactivity I guess it's not defined in here must be in oh yeah so the interactivity for things like painting and zooming is defined at the panel level and that route okay so so to "
    },
    {
        "start": 2711.41,
        "text": "start answering that question because that is a big question Aereo interaction so we have we have a variety of just boolean elements to defining the layout on the on a panel level so for my genes panel or my association panel or whatever whether I want to be able to drag the background to pan early and then you know trim this will you know cause a cascade of things down below likewise with some of these other things here's that X tick scaling and Y tick scaling scrolling to zoom etc and then there's this little X link so that if I want my panels to scroll together we X link them so that's that's a little purpose-built but that's how you at least turn it on now as for actually making it go you know let me get back to that because we can we could do a deep dive into the cars a lot it took a while "
    },
    {
        "start": 2772.43,
        "text": "to get right so there is some I mean it's all the dependencies are very limited dependencies are only a beef and then we also have a dependency on the queue library for promises since promises aren't standard in JavaScript yet and this is not es6 this is just yes yes five yes Ted standard common JavaScript but d3 is the only major dependency queue being the one for promises but that's only used for getting data of course so yeah I mean that's that's certainly the thought had crossed my mind personally I had always sort of looked at NPM as something that was more you know back in focused but you know there's no reason why it couldn't be published as an NPM module so yeah you "
    },
    {
        "start": 2833.32,
        "text": "know I personally haven't worked with node that much so are there a lot of front-end packages on NPM because what you can do create a package JSON which is also just a config file and say my dependencies are this and you don't have to include d3 anymore because it's going to go and look it up and NPM and when you when you you know clones get happy NPM install it install all the dependencies that you have it just pulls them from the Barrow and repositories you just need to specify which versions here and stuff so we are actually in my laboratory you're building a platform for web-based visualizations for all kinds of customer user provided data so all kinds of visualizations and what we do sometimes someone makes a front-end app like this and then they provide hooks for data and input what what we do "
    },
    {
        "start": 2894.369,
        "text": "we go to NPM we just take their development their app as a dependency for our platform and then after a couple of days boom our platform has a new type of quality of an attack functional including all that all the things that we definitely so that would be very interesting I actually you know this probably many people to fit our purposes as well so this is very interesting trait yeah and then for the I'm not sure how how much time you spend on this activity but what we've got from our experience the best was using the angle or is what allows you to do it allows you to have a data model with an object so you have like a settings object and then if does the two-way binding to your visual part in d3 move your SVG elements so as soon as you change your beta it updates the SVG element right colours or whatever and then as soon as user changes something kicks in any controls those controls updated data model which again updates "
    },
    {
        "start": 2955.369,
        "text": "baronetage yeah and so that was I think we awarded all the callback hell and you know complications from you have to listen to those things yourself yeah and we voted a lot of that as well I really would say there is not a lot of callback hell going on here at all because we're leveraging d3s you know enter update exit model so that all of the data all the data in the data layer level that is displayed so those all those Association points and everything jeans whatever you know the definition of an individual data layer is going to have that enter exit update based on the data that is stored on the data layer itself which there's the whole request layer which will you know update that data based on whatever region I'm looking at or however I've defined my data sources to do that and so all of that happens in a "
    },
    {
        "start": 3015.669,
        "text": "very very automated way using just the sort of d3 core approach and we really wanted to limit our number of dependencies so you know we did talk early on about you know those broader frameworks like angular and react and you know could these help us get somewhere else but but that is we wanted to keep it really constrained in scope in terms of just how much external framework we really needed to leverage and d3 seem to present pretty much everything we needed to do it in in the way that we've done it so farso but again it's moving target and we could potentially go that route in the future I've certainly been looking a lot at d3 version 4 to see if there's anything in there that would be interesting but but yeah the that's sort of the approach we have right now yeah "
    },
    {
        "start": 3077.62,
        "text": "thanks for the suggestion I will write about my book I do want to show one last example of locus zoom and how it can be a little customized to do something very different so here the Michigan genomics initiative which some of you may have heard of big study that happens here between a lot of folks that work here and this is an example of locus zoom doing what's called a V wasp plot Sophie wasps is a phenom wide Association study where it's almost you think of it as you know when we are looking at any one of those gys plots before we're looking at one specific phenotype like we were looking at the example on the genetics portal this G wasps is body mass index this to us is type 2 diabetes well there's a million phenotypes I mean not that many there's a lot of phenotypes depending on how you slice and dice them and so here what we're looking at is a single variant in fact this is a variant that happens to be somewhere toward the end of the 10th chromosome but we're looking at how that the p-values for "
    },
    {
        "start": 3138.4,
        "text": "that single variant across almost 1,500 excuse me different phenotypes so here is you know that this particular variance which is in the fgfr2 gene has a peak for different types of breast cancer and the way MGI does it is it's sort of translating icd-9 codes into phenotype codes so that we can have sort of a consistent list of phenotypes but that's an example here and we have the same gene plot down here just to show where we are but this is all using the same exact locus in library to generate a very different kind of plot including this year this is a different data layer that just shows you know it's kind of like this is what the bottom of a Manhattan plot would look like where we just have all of our chromosomes and this just where we are across the entire genome and we're some on chromosome 10 and what we did here just for this example is we you know through five different ones up there but now we're looking at somewhere on chromosome four and we're looking at the pit x2 gene which there's pinic su right "
    },
    {
        "start": 3199.829,
        "text": "there and you know that one has atrial fibrillation tcf7l2 which is what I loaded up right over here this tcf7l2 and type 2 diabetes there it is there's peak so this is another example of something very different that can be done with low consume because again built as a framework for rapidly prototyping data layers that tend to be based around looking at a region of a genome but not necessarily because as we're seeing here we're not looking at a region of a genome we're looking at one particular variant and now we've almost pivoted to a different dimension and we're looking across all those phenotypes so see I just wanted to show you guys that the P nice with the cross bar oh so these actually down below not "
    },
    {
        "start": 3264.96,
        "text": "the dots the lines the ticks along here nope the genes yeah like like those have colorings for their good question so what what this panel is showing is it's just showing gene transcripts so this this is showing that the tcf7l2 gene starts here and ends here and these little little Peaks or exons within the gene so the actual protein coding regions but other than that there is no association data represented in here all this all this object represents is this is the extent of the gene as it exists in the gene catalog and these are where the exons are so so the covering wouldn't really have any meaning here there are blocks out there that do cover jeans based on different pieces of data but wouldn't necessarily be association "
    },
    {
        "start": 3325.49,
        "text": "date it would be something else like you know yes we could actually there is a gentleman in our group who is really all about EQ to EQ deals and he really wants to see them in here so that's something that we'll probably be looking at in 2017 and you know a lot of folks working with traditional opium have worked with interval track annotations interval annotations or bed annotations that's a common thing and that's actually another branch on the locus in library that's in active development right now will probably be released in the production version for use within probably just a few weeks so we're really actively working on that because we know the broad wants to pull in annotation track data and also for our own locus and website our back-end that has a lot of these data is stored in a database ready to go with a Web API we have a front-end "
    },
    {
        "start": 3387.38,
        "text": "or sorry an API endpoint for annotation track data so the logan-san website will also have a way of pulling in some limited annotation track datasets really is a proof of concept but yeah so there's there's a lot of active development in a lot of areas and we want to hear about more so yes eqtls knowing that there is demand for that will help us prioritize that higher yeah we we've talked about that one - in fact that one we've just started talking about in the last you know a couple weeks personally I've not worked much with UCSC and I'm just starting to develop a concept of you know what role the UCSC genome browser fills in this world because there does seem to be a lot of overlap with the kinds of problems we're trying to solve with low consume and so you know I definitely I still feel like there's enough of the difference there that they can coexist "
    },
    {
        "start": 3448.25,
        "text": "they complement each other I think I hope but yes we have talked about trying tap into all of those tracks that are on was a track come that they have with with UCSC and here and then you also see a peak over there there's also yep yeah and with things like that it's all a question of priorities because just to talk real quick about developer resources well this is open source and we would love contributions from anybody who really wants to dive in it's been pretty much my show for a while now there was I did have another developer who was helping me in the beginning but it's been pretty much just me at this point and so I'm taking a lot of my cues on what to work on from really from everywhere so folks like yourself who are saying hey I would like to see this and this and this got a lot of feedback "
    },
    {
        "start": 3508.43,
        "text": "from ASHG on what different people would like to see but then there are the requirements laid out by the amp consortium and the portal projects you know because they actually bring the money to the table and then there's our own internal CSG stuff where we have our locus and website and what kind of things we want to see so just trying to keep all that in concert and but either way development is very active and you know because we've sort of as a framework for the rapid prototyping of visual display of things if there's a data set like eqtls is a really good example of this if there's a data set that already sort of fits this mold and all we have to do is chances are it's probably pretty fast to spin that up we just need to sit down and do it any other questions anyone well look you soon org it's on github please play with it please send me feedback if you decide to use it I would love to hear what you think and thank you so much "
    }
]